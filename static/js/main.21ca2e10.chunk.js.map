{"version":3,"sources":["components/Navbar.js","api.js","utils/usePersistedState.js","pages/Home.js","components/Fiche.js","pages/Add.js","pages/Edit.js","App.js","index.js"],"names":["Navbar","className","to","config","SPREADSHEET_ID","SHEET_ID","SHEET_LIST_ID","CLIENT_EMAIL","PRIVATE_KEY","defaultState","Name","Author","Description","Jacket","Genre","SousGenre","Statut","Format","Tome","Commentaire","NbPages","LentTo","LentOn","LentReturnOn","Rating","EditionYear","defaultList","genres","sousGenres","statuts","formats","api","doc","GoogleSpreadsheet","initialised","bookSheet","books","lists","init","a","console","log","useServiceAccountAuth","client_email","private_key","loadInfo","sheetsById","getRows","length","sheet","rows","filter","o","undefined","map","getBooks","getBook","id","getBookCount","saveBook","book","prop","data","save","addBook","addRow","newBook","deleteBook","delete","getLists","usePersistedState","key","defaultValue","useState","JSON","parse","sessionStorage","getItem","state","setState","useEffect","setItem","stringify","Home","setData","setFilter","filterGenre","setFilterGenre","filterSousGenre","setFilterSousGenre","displayMode","setDisplayMode","setList","loading","setLoading","getData","getList","loadStuff","history","useHistory","handleDelete","e","rowIndex","stopPropagation","getFilter","toLowerCase","trim","displayList","item","indexOf","type","checked","onChange","target","htmlFor","placeholder","value","autoFocus","style","verticalAlign","scope","data-bs-toggle","aria-expanded","aria-labelledby","onClick","i","push","handleClick","_rowNumber","src","height","width","alt","position","bottom","right","color","size","data-bs-target","aria-controls","data-bs-parent","textDecoration","name","StarRating","rating","setRating","hover","setHover","hoverClear","setHoverClear","Array","star","index","onMouseEnter","onMouseLeave","title","Input","label","labelWidth","valueWidth","autofocus","InputList","list","listName","InputCheckList","paddingTop","EditList","listIn","newValue","setNewValue","htmlElRef","useRef","current","focus","useFocus","inputRef","setInputFocus","tabindex","aria-hidden","data-bs-dismiss","aria-label","readOnly","ref","Fiche","props","handleChange","top","marginTop","c","parseInt","cols","LentAt","Add","saving","setSaving","handleKeyPress","useCallback","ctrlKey","preventDefault","replace","document","addEventListener","removeEventListener","handleSubmit","margin","onSubmit","Edit","useParams","bookCount","setBookCount","ame","App","basename","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.21ca2e10.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav className=\"navbar sticky-top navbar-expand-lg navbar-dark bg-dark mb-2\">\n      <div className=\"container-fluid\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          \n          {(!process.env.NODE_ENV || process.env.NODE_ENV === 'development') \n        ? (<div>My personal book store (DEV MODE)</div>)\n        : (<div>My personal book store</div>)}\n        </Link>\n        <div>\n          <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\n            <li className=\"nav-item mt-1\">\n              <Link className=\"btn btn-primary btn-sm\" to=\"/add\">\n                Ajouter un livre\n              </Link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import { GoogleSpreadsheet } from \"google-spreadsheet\";\n\nconst config = (!process.env.NODE_ENV || process.env.NODE_ENV === 'development')\n  ? {\n    SPREADSHEET_ID: '15xwpNVgv7FSu_lPT9nNyNC8a7-WkbJzmft-dq2syX8s',\n    SHEET_ID: '0',\n    SHEET_LIST_ID: '1449350178',\n    CLIENT_EMAIL: 'googlesheetapi@xenon-chain-365516.iam.gserviceaccount.com',\n    PRIVATE_KEY: '-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCymYnhgDcsq/Py\\nbE8Kz7StHSxTaVRsNhhmkpT4Gm9d0pYynEjRw+jmPGdTxvU8kcNDentLvjbydJ/g\\nM3apvkvjorPy1PlXfE6lkiRRUgZHZjQwoWN7CEdgnhoAX7/nh4n0PfrEqh4kW9ok\\nfzhk7ApT8cj3eLiDz/jcA/mlDo1ZwCbbWmWrO74tfTrPKmBgAuXopf/65ZUzxEJ+\\nboJAWDBNnw0aDwy+S2hdJa1ksRsI1aRTWg0QiCOpdR5qrrnUSPzynDKdmukH7UNX\\nMzGD6yYwJ6+P3z8MPBEDG75qlhSkSg72ar1jO4ypJUZgM0opKTinYWP4AHhwfe9j\\nFysv7mH9AgMBAAECggEABFQXn7Z6yoNfBdi9ewFDsLph8PeUNeHYajan6PIYZt62\\nsy1PJSj+rlh3wfOyzS//L9XPwoCEARD12vou/bgrS1i4dxcq9TAsZnOJ8R/wH6+I\\nw5ugYe1LxY9aCU5IxAoTPC8lsmR+bIUpXp8StSd0rJ98g7rnmzzhcXugg5vnAxjM\\nZTWHBPw8dRgqXXq2NiTqICJiezKVccs5+j/19qEJSKvnUue3QRe3BbsKvS2J/4pW\\n0a6AEB5h01mDUdYdkDP0Aa/bFcGc1z2n1rVOrU+2F4QC4PIlCa2HFGfVz2V3IFYA\\nnNikJRY++9R/GwCZgthIIPsU+/OvaXgwrVwpo7pQRQKBgQDZnIQj/GmkqYSfKQKU\\nZYa8nNwfg9+rBNeVLvJSd5F0R95wZXrb85t1u/ND1nxSQAbKrYvpSAJlslmohUAS\\npLVirtGezgMn4ew8xXeuJFKbx41Ku4tETkWVP/uMndoSvjZBMGRKPWheGxXLL4Xz\\nZfH/cvHE0y8t/f8c3t6YSCcQkwKBgQDSGzrLB20GcYzsL7uk8Yvb+lAXHe+686pB\\ng9LB0kkjpso6y57bL1G/yaQ72o712NFDe5RfbQK3L3bK8MB3NjV/B812KdiO4qkC\\n23k1Q8+mvSZWfeFwsntid+yjLRKirRun6/fIxo+jV0p7UxvShvg1S1e4OlxhTyea\\nVr3dp5WtLwKBgHihpTb1s/KN7nD0oPN2nIxuQDBQQGtjkcancbl5gu588LhJ6SOJ\\nFcLcX+xZOC24RIuSTR8SxhFuHvmmdHBhUhPUaWupNGKlgPnnVYL5q7mjk5W8BWXm\\nJfiosV+wGbWOMDFPDCmDhRm11gz+2TimaNJ8+71qfJr4VLXCbo7oYI91AoGADsHA\\n2F+2JZy2FCSqHkSk2Rd0ppsAqnXQwHc8x0Y4wttFGuoQRz7ElB7afSW1osjOsdmt\\nKyKh7THVOx27tuPE0B5BLQp1XlvHGR9HHRmdLQ3d8nc27U5r4hegNDnHNEvKRHoL\\nVjuz/Pn1jkHhE2FNb5jSGWtn76G6m1l6TmYl2hsCgYBGt54gXo3xvUcK3PLRubXI\\nesHDEb/yHd35O06xwOFyBX7fUpWa2nlKC0c5Iwf6G0iyQcClZEtyKmGf5VM9VIOp\\nbkLnihObREpPQ2cMyLpTWsdpvUtcis7+ISnvgDVKA/3hgSquwNggtEQKEvEq1S4Y\\ntT68QinqcZpTZoa4L5KAqg==\\n-----END PRIVATE KEY-----\\n',\n  }\n  :\n  {\n    SPREADSHEET_ID: '1xw1u6aNjRzWYsn36GScv3K8hY-KVM2RRRcvQBzGXffA',\n    SHEET_ID: '0',\n    SHEET_LIST_ID: '334842323',\n    CLIENT_EMAIL: 'googlesheetapi@xenon-chain-365516.iam.gserviceaccount.com',\n    PRIVATE_KEY: '-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCymYnhgDcsq/Py\\nbE8Kz7StHSxTaVRsNhhmkpT4Gm9d0pYynEjRw+jmPGdTxvU8kcNDentLvjbydJ/g\\nM3apvkvjorPy1PlXfE6lkiRRUgZHZjQwoWN7CEdgnhoAX7/nh4n0PfrEqh4kW9ok\\nfzhk7ApT8cj3eLiDz/jcA/mlDo1ZwCbbWmWrO74tfTrPKmBgAuXopf/65ZUzxEJ+\\nboJAWDBNnw0aDwy+S2hdJa1ksRsI1aRTWg0QiCOpdR5qrrnUSPzynDKdmukH7UNX\\nMzGD6yYwJ6+P3z8MPBEDG75qlhSkSg72ar1jO4ypJUZgM0opKTinYWP4AHhwfe9j\\nFysv7mH9AgMBAAECggEABFQXn7Z6yoNfBdi9ewFDsLph8PeUNeHYajan6PIYZt62\\nsy1PJSj+rlh3wfOyzS//L9XPwoCEARD12vou/bgrS1i4dxcq9TAsZnOJ8R/wH6+I\\nw5ugYe1LxY9aCU5IxAoTPC8lsmR+bIUpXp8StSd0rJ98g7rnmzzhcXugg5vnAxjM\\nZTWHBPw8dRgqXXq2NiTqICJiezKVccs5+j/19qEJSKvnUue3QRe3BbsKvS2J/4pW\\n0a6AEB5h01mDUdYdkDP0Aa/bFcGc1z2n1rVOrU+2F4QC4PIlCa2HFGfVz2V3IFYA\\nnNikJRY++9R/GwCZgthIIPsU+/OvaXgwrVwpo7pQRQKBgQDZnIQj/GmkqYSfKQKU\\nZYa8nNwfg9+rBNeVLvJSd5F0R95wZXrb85t1u/ND1nxSQAbKrYvpSAJlslmohUAS\\npLVirtGezgMn4ew8xXeuJFKbx41Ku4tETkWVP/uMndoSvjZBMGRKPWheGxXLL4Xz\\nZfH/cvHE0y8t/f8c3t6YSCcQkwKBgQDSGzrLB20GcYzsL7uk8Yvb+lAXHe+686pB\\ng9LB0kkjpso6y57bL1G/yaQ72o712NFDe5RfbQK3L3bK8MB3NjV/B812KdiO4qkC\\n23k1Q8+mvSZWfeFwsntid+yjLRKirRun6/fIxo+jV0p7UxvShvg1S1e4OlxhTyea\\nVr3dp5WtLwKBgHihpTb1s/KN7nD0oPN2nIxuQDBQQGtjkcancbl5gu588LhJ6SOJ\\nFcLcX+xZOC24RIuSTR8SxhFuHvmmdHBhUhPUaWupNGKlgPnnVYL5q7mjk5W8BWXm\\nJfiosV+wGbWOMDFPDCmDhRm11gz+2TimaNJ8+71qfJr4VLXCbo7oYI91AoGADsHA\\n2F+2JZy2FCSqHkSk2Rd0ppsAqnXQwHc8x0Y4wttFGuoQRz7ElB7afSW1osjOsdmt\\nKyKh7THVOx27tuPE0B5BLQp1XlvHGR9HHRmdLQ3d8nc27U5r4hegNDnHNEvKRHoL\\nVjuz/Pn1jkHhE2FNb5jSGWtn76G6m1l6TmYl2hsCgYBGt54gXo3xvUcK3PLRubXI\\nesHDEb/yHd35O06xwOFyBX7fUpWa2nlKC0c5Iwf6G0iyQcClZEtyKmGf5VM9VIOp\\nbkLnihObREpPQ2cMyLpTWsdpvUtcis7+ISnvgDVKA/3hgSquwNggtEQKEvEq1S4Y\\ntT68QinqcZpTZoa4L5KAqg==\\n-----END PRIVATE KEY-----\\n',\n  }\n\nconst defaultState = {\n  Name: \"\",\n  Author: \"\",\n  Description: \"\",\n  Jacket: '',\n  Genre: '',\n  SousGenre: '',\n  Statut: 'Non lu',\n  Format: '',\n  Tome: '',\n  Commentaire: '',\n  NbPages: '',\n  LentTo: '',\n  LentOn: '',\n  LentReturnOn: '',\n  Rating: '0',\n  EditionYear: '',\n}\n\nconst defaultList = {\n  genres: [],\n  sousGenres: [],\n  statuts: [],\n  formats: [],\n}\n\nconst api = () => {\n\n  const doc = new GoogleSpreadsheet(config.SPREADSHEET_ID);\n\n  let initialised = false;\n  let bookSheet = null;\n  let books = null;\n  let lists = {};\n\n  const init = async () => {\n    if (!initialised) {\n      console.log(\"Initialisation de l'api\")\n      await doc.useServiceAccountAuth({\n        client_email: config.CLIENT_EMAIL,\n        private_key: config.PRIVATE_KEY,\n      })\n\n      await doc.loadInfo();\n\n      bookSheet = doc.sheetsById[config.SHEET_ID];\n      books = await bookSheet.getRows();\n      console.log('book count=' + books.length)\n\n      const sheet = doc.sheetsById[config.SHEET_LIST_ID]\n      const rows = await sheet.getRows()\n      lists = {\n        genres: rows.filter(o => o.Genre !== undefined).map(o => o.Genre),\n        sousGenres: rows.filter(o => o.SousGenre !== undefined).map(o => o.SousGenre),\n        statuts: rows.filter(o => o.Statut !== undefined).map(o => o.Statut),\n        formats: rows.filter(o => o.Format !== undefined).map(o => o.Format),\n      }\n\n      initialised = true;\n    }\n  }\n\n  const getBooks = async () => {\n    await init();\n    return books;\n  };\n\n  const getBook = async (id) => {\n    await init();\n    return books[id];\n  }\n\n  const getBookCount = async () => {\n    await init();\n    return books.length;\n  }\n\n  const saveBook = async (id, book) => {\n    await init();\n    const data = books[id]\n    for (var prop in book)\n      data[prop] = book[prop]\n    await data.save()\n  }\n\n  const addBook = async (book) => {\n    try {\n      await init();\n      const newBook = await bookSheet.addRow(book);\n      books = [...books, newBook]\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const deleteBook = async (id) => {\n    await init();\n    await books[id].delete();\n    // refresh list\n    books = await bookSheet.getRows();\n    return books;\n  }\n\n  const getLists = async () => {\n    await init();\n    return lists;\n  }\n\n  return {\n    getBooks,\n    getBook,\n    getBookCount,\n    saveBook,\n    addBook,\n    deleteBook,\n    getLists,\n    defaultState,\n    defaultList,\n  }\n}\n\nexport default api()\n","import { useState, useEffect } from 'react'\n\nconst usePersistedState = (key, defaultValue) => {\n  const [state, setState] = useState(\n    () => JSON.parse(sessionStorage.getItem(key)) || defaultValue\n  )\n\n  useEffect(() => {\n    sessionStorage.setItem(key, JSON.stringify(state))\n  }, [key, state])\n\n  return [state, setState]\n}\n\nexport { usePersistedState }\n","import { Link, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { Trash } from 'react-bootstrap-icons'\nimport api from '../api'\nimport { usePersistedState } from \"../utils/usePersistedState\";\n\nconst Home = () => {\n  const [data, setData] = useState();\n  const [filter, setFilter] = usePersistedState('filter', null);\n  const [filterGenre, setFilterGenre] = usePersistedState('filterGenre', null);\n  const [filterSousGenre, setFilterSousGenre] = usePersistedState('filterSousGenre', null);\n  const [displayMode, setDisplayMode] = usePersistedState('displayMode', 'table')\n  const [lists, setList] = useState(api.defaultList);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const getData = async () => setData([...await api.getBooks()])\n    const getList = async () => setList(await api.getLists())\n    const loadStuff = async () => {\n      await getList()\n      await getData()\n      setLoading(false)\n    }\n\n    loadStuff();\n  }, []);\n\n  const history = useHistory()\n\n  const handleDelete = async (e, rowIndex) => {\n    e.stopPropagation();\n    setLoading(true)\n    setData([...await api.deleteBook(rowIndex)])\n    setLoading(false)\n  };\n\n  const handleFilter = (e) => setFilter(e.target.value)\n  const handleClick = (i) => history.push(`/edit/${i}`)\n  const handleGenreFilter = (o) => setFilterGenre(o)\n  const handleSousGenreFilter = (o) => setFilterSousGenre(o)\n\n  const getFilter = () => filter?.toLowerCase().trim()\n\n  const displayList = data?.filter((item) =>\n    (!filter\n    || item.Name.toLowerCase().indexOf(getFilter()) >= 0\n    || item.Author.toLowerCase().indexOf(getFilter()) >= 0\n    || item.Genre.toLowerCase().indexOf(getFilter()) >= 0\n    || item.SousGenre.toLowerCase().indexOf(getFilter()) >= 0)\n    && (!filterGenre || item.Genre === filterGenre)\n    && (!filterSousGenre || item.SousGenre === filterSousGenre))\n\n  return (\n    <div>\n\n      {/* mode d'affichage */}\n      <div className=\"mb-3 border rounder bg-light col-sm-2\">\n        <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" checked={displayMode === 'table'}\n            onChange={(e) => setDisplayMode(e.target.checked ? 'table' : 'list')}\n          />\n          <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\" >\n            {displayMode === 'table' ? \"Affichage condensé\" : \"Affichage en liste\"}\n          </label>\n\n        </div>\n      </div>\n\n      {/* Recherche*/}\n      <div className=\"mb-3 row\">\n        <div className=\"col-sm-11\">\n        <input type=\"text\" className=\"form-control\" placeholder=\"rechercher: un titre, un auteur\" value={filter || ''} onChange={handleFilter} autoFocus />\n        </div>\n        <div className=\"col-sm-1\">\n          <span className=\"badge rounded-pill bg-info\" style={{ verticalAlign: 'sub' }}>{`${displayList?.length??0} / ${data?.length??0}`}</span>\n        </div>\n      </div>\n\n      {/* Mode table */}\n      <table className={`table table-hover table-sm align-middle  border rounded bg-light ${displayMode === 'table' ? '' : 'd-none'}`}>\n        <colgroup>\n            <col className=\"col-md-5\" />\n            <col className=\"col-md-1\" />\n            <col className=\"col-md-2\" />\n            <col className=\"col-md-2\" />\n            <col className=\"col-md-2\" />\n        </colgroup>\n        <thead>\n          <tr>\n            <th scope=\"col\">Titre</th>\n            <th scope=\"col\">&nbsp;</th>\n            <th scope=\"col\">Auteur</th>\n            <th scope=\"col\">\n              <div className=\"dropdown\">\n                <div className=\"dropdown-toggle dropdown-toggle-split\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                  {filterGenre ? <mark>{filterGenre}</mark> : 'Genre'}\n                  &nbsp;\n                </div>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                  <li><button className=\"dropdown-item\" onClick={() => setFilterGenre(null)}>&nbsp;</button></li>\n                  {lists.genres.map(item => (\n                    <li key={item}>\n                      <button className=\"dropdown-item\" onClick={() => handleGenreFilter(item)}>{item}</button>\n                    </li>))}\n                </ul>\n              </div>\n            </th>\n            <th scope=\"col\">\n            <div className=\"dropdown\">\n                <div className=\"dropdown-toggle dropdown-toggle-split\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                {filterSousGenre ? <mark>{filterSousGenre}</mark> : 'Sous genre'}\n                  &nbsp;\n                </div>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                  <li><button className=\"dropdown-item\" onClick={() => setFilterSousGenre(null)}>&nbsp;</button></li>\n                  {lists.sousGenres.map(item => (\n                    <li key={item}>\n                      <button className=\"dropdown-item\" onClick={() => handleSousGenreFilter(item)}>{item}</button>\n                    </li>))}\n                </ul>\n              </div>\n\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {displayMode === 'table' && displayList?.map((item, i) => (\n            <tr key={i} onClick={() => handleClick(item._rowNumber - 2)}>\n              <th scope=\"row\">\n              <img\n                  src={item.Jacket || 'https://adamshop.biz.id/wp-content/uploads/2021/08/Book.png'}\n                  height=\"50\" width=\"30\" alt='no-pic' ></img>\n                &nbsp;&nbsp;\n                {item.Name}\n                </th>\n              <td>{item.Tome ? ('tome ' + item.Tome) : ('')}</td>\n              <td>{item.Author}</td>\n              <td>{item.Genre}</td>\n              <td>                \n                <div style={{ position: 'relative' }}>\n                <div>{item.SousGenre || '-'}</div>\n                <div style={{ position: 'absolute', bottom: 0, right: 0 }}>\n                  <Trash \n                    color=\"gray\" \n                    size={16}\n                    className=\"delete-icon\"\n                    onClick={(e) => handleDelete(e, item._rowNumber - 2)} />\n                </div>\n                </div>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {/* mode Liste */}\n      <div className={`accordion ${displayMode === 'table' ? 'd-none' : ''}`} id=\"accordionExample\">\n        {displayMode !== 'table' && displayList?.map((item, i) => (\n          <div className=\"accordion-item\" key={i}>\n            <h2 className=\"accordion-header\" id={`heading${i}`}>\n              <button\n                className=\"accordion-button\"\n                type=\"button\"\n                data-bs-toggle=\"collapse\"\n                data-bs-target={`#collapse${i}`}\n                aria-expanded=\"true\"\n                aria-controls={`collapse${i}`}\n              >\n                <img\n                  src={item.Jacket || 'https://adamshop.biz.id/wp-content/uploads/2021/08/Book.png'}\n                  height=\"50\" width=\"30\" alt='no-pic' ></img> {item.Name} {item.Author}\n              </button>\n            </h2>\n            <div\n              id={`collapse${i}`}\n              className=\"accordion-collapse collapse\"\n              aria-labelledby={`heading${i}`}\n              data-bs-parent=\"#accordionExample\"\n            >\n              <div className=\"accordion-body\">\n                <div className=\"d-flex justify-content-between align-items-center\">\n                  <span>\n                    <strong className=\"display-6\">{item.Name}</strong> ---{\" \"}\n                    {item.Author}\n\n                  </span>\n                  <span>\n                    <Link to={`/edit/${i}`} style={{ textDecoration: \"none\" }}>\n                      Edit\n                    </Link>\n                    <button\n                      className=\"btn btn-sm btn-danger ms-1\"\n                      onClick={() => handleDelete(i)}\n                    >\n                      X\n                    </button>\n                  </span>\n                </div>\n                <p>{item.Description}</p>\n                <img src={item.Jacket} alt={item.name} ></img>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/** message aucun livre */}\n      {(displayList?.length === 0)\n        ? (<h4 className=\"col-12 text-muted text-center\">Aucun livre ne corresponds à votre recherche</h4>)\n        : ('')}\n\n      {/** footer */}\n      <div>&nbsp;</div>\n\n      {loading && (<div className=\"bg-dark-transparent loading-panel\"></div>)}\n\n    </div>\n  );\n};\n\nexport default Home;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useState, useEffect, useRef } from 'react'\n\nconst StarRating = ({ value, onChange }) => {\n  const [rating, setRating] = useState(0)\n  const [hover, setHover] = useState(0);\n  const [hoverClear, setHoverClear] = useState(false);\n\n  useEffect(() => {\n    setRating(value);\n  }, [value])\n\n  return (\n    <div className=\"star-rating\">\n      {[...Array(5)].map((star, index) => {\n        index += 1;\n        return (\n          <button\n            type=\"button\"\n            key={index}\n            className={`starButton  ${index <= (hover || rating) ? \"on\" : \"off\"}`}\n            onClick={() => onChange(index)}\n            onMouseEnter={() => setHover(index)}\n            onMouseLeave={() => setHover(rating)}\n          >\n            <span className=\"star\">&#9733;</span>\n          </button>\n        );\n      })}\n      <button\n        type=\"button\"\n        className={`fw-lighter clearButton ${hoverClear ? \"on\" : \"off\"}`}\n        onMouseEnter={() => setHoverClear(true)}\n        onClick={() => onChange(0)}\n        onMouseLeave={() => setHoverClear(false)}\n        title=\"clear rating\"\n        >\n          ∅</button>\n    </div>\n  );\n};\n\nconst Input = ({ label, value, className, labelWidth, valueWidth, autofocus = false, onChange }) => {\n  return (\n    <div className={`${className}`}>\n      <label htmlFor=\"Name\" className={`col-sm-${labelWidth ?? 12} col-form-label`} >\n        {label}\n      </label>\n      <div className={`col-sm-${valueWidth ?? 12}`}>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          name=\"Name\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          autoFocus={autofocus}\n        />\n      </div>\n    </div>)\n}\n\nconst InputList = ({ label, value, className, labelWidth, valueWidth, list, listName, onChange }) => {\n  return (\n    <div className={`${className}`}>\n      <label htmlFor=\"Name\" className={`col-sm-${labelWidth ?? 12} col-form-label`} >\n        <div className='d-flex'>\n        {label}&nbsp;\n        <div className='button btn-primary' data-bs-toggle=\"modal\" data-bs-target={`#editList-${listName}`} title='Ajouter une valeur'>+</div>\n        </div>\n      </label>\n      <div className={`col-sm-${valueWidth ?? 12}`}>\n        <select\n          type=\"text\"\n          className=\"form-select\"\n          name=\"Name\"\n          value={value || ''}\n          onChange={(e) => onChange(e.target.value)}\n        >\n          <option value=\"\">-</option>\n          {list.map(item => (<option key={item} value={item}>{item}</option>))}\n        </select>\n      </div>\n    </div>)\n}\n\nconst InputCheckList = ({ label, value, className, labelWidth, valueWidth, list, onChange }) => {\n  return (\n    <div className={`${className}`}>\n      <label htmlFor=\"Name\" className={`col-sm-${labelWidth ?? 12} col-form-label`} >\n        {label}\n      </label>\n      <div className={`col-sm-${valueWidth ?? 12}`} style={{ paddingTop: 10 }}>\n        {list.map(item => (\n          <div className=\"form-control-check form-check form-check-inline\" key={item}>\n            <input className=\"form-check-input\" type=\"radio\"\n              name=\"Format\"\n              id={'radio-' + item}\n              value={item}\n              checked={value === item}\n              onChange={(e) => onChange(e.target.value)} />\n            <label className=\"form-check-label\" htmlFor={'radio-' + item}>\n              {item}\n            </label>\n          </div>\n        ))}\n      </div>\n    </div>)\n}\n\nconst useFocus = () => {\n  const htmlElRef = useRef(null)\n  const setFocus = () => {htmlElRef.current &&  htmlElRef.current.focus()}\n\n  return [ htmlElRef, setFocus ] \n}\n\nconst EditList = ({ name, list: listIn }) => {\n  const [list, setList] = useState([])\n  const [newValue, setNewValue] = useState('')\n  const [inputRef, setInputFocus] = useFocus()\n\n  useEffect(() => {\n    setList(listIn)\n  }, [listIn])\n\n  const handleChange = (value) => {\n    setNewValue(value)\n  }\n\n  const handleBlur = (value) => {\n    setList([...list, value])\n    setNewValue('')\n    setInputFocus()\n  }\n  return (\n    <div className=\"modal fade\" id={`editList-${name}`} tabindex=\"-1\" aria-labelledby={`exampleModalLabel-${name}`} aria-hidden=\"true\">\n    <div className=\"modal-dialog\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <h5 className=\"modal-title\" id={`exampleModalLabel-${name}`}>Edition de la liste : {name}</h5>\n          <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div className=\"modal-body\">\n          <div className=\"alert alert-danger\">Experimental feature - do not use</div>\n          {list?.map((item, i) => (\n            <div key={i}>\n            <div className='mb-2'>\n              <input className='form-control' value={item} onChange={(e) => {}} readOnly />\n              </div>\n            </div>\n          ))}\n          <div className='mb-2 d-flex'>\n              <input className='form-control' placeholder='nouvelle valeur' \n                ref={inputRef}\n                name=\"newValue\"\n                value={newValue}\n                onChange={(e) => handleChange(e.target.value)} \n                />\n              <button type=\"button\" className='btn btn-primary' onClick={() => handleBlur(newValue)}>+</button>\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n          <button type=\"button\" className=\"btn btn-primary\">Save changes</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  )\n}\n\nconst Fiche = ({ props }) => {\n  const { data, lists, handleChange } = props;\n\n  return (\n    <div>\n      <EditList name=\"Genre\" list={lists.genres}/>\n      <EditList name=\"SousGenre\" list={lists.sousGenres}/>\n      <div className=\"row mb-3\">\n        {/** marge gauche */}\n        <div className=\"col-sm-1\"></div>\n\n        {/** Jacket et appréciation */}\n        <div className=\"col-sm-3\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"Jacket\"\n            value={data.Jacket}\n            onChange={handleChange}\n            placeholder=\"Jacket\"\n          />\n          \n          <div style={{position:'relative'}}>\n            <img src={data.Jacket || \"https://adamshop.biz.id/wp-content/uploads/2021/08/Book.png\"} alt='-' className=\"img-fluid mb-2\" width=\"100%\" />\n            <div className='bg-ligh d-none' style={{ position: 'absolute', top: 5 }}>{data.Name}</div>\n          </div>\n          <div className=\"row mb-3 border rounded bg-light mx-1\">\n            {/* Statut Lu/Non lu */}\n            <div className=\"col-6\" style={{ marginTop: '0.5em' }}>\n              <div className=\"form-check form-switch\">\n                <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" checked={data.Statut === 'Lu'}\n                  onChange={(c) => handleChange({ target: { name: 'Statut', value: data.Statut === 'Lu' ? 'Non lu' : 'Lu' } })}\n                />\n                <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\" >\n                  {data.Statut}\n                </label>\n\n              </div>\n            </div>\n\n            <div className=\"col-6\">\n              {/* Appréciation */}\n              <StarRating\n                name=\"Rating\"\n                key={`rating-${data.Rating}`}\n                value={parseInt(data.Rating || '0')}\n                onChange={(value) => handleChange({ target: { name: 'Rating', value } })} />\n            </div>\n          </div>\n\n        </div>\n\n        {/** fiche descriptive principale */}\n        <div className=\"col-sm-7 \">\n          <div className=\"border rounded bg-light p-4\">\n            <Input\n              className=\"mb-3 col-12\"\n              label=\"Titre\"\n              value={data.Name}\n              autofocus={true}\n              onChange={(value) => handleChange({ target: { name: 'Name', value } })} />\n\n\n            <Input\n              className=\"mb-3 col-sm-12\"\n              label=\"Auteur\"\n              value={data.Author}\n              onChange={(value) => handleChange({ target: { name: 'Author', value } })} />\n\n            <InputList\n              className=\"mb-3 col-sm-12\"\n              label=\"Genre\"\n              listName=\"Genre\"\n              value={data.Genre}\n              list={lists.genres}\n              onChange={(value) => handleChange({ target: { name: 'Genre', value } })} />\n\n            <InputList\n              className=\"mb-3 col-sm-12\"\n              label=\"Sous-genre\"\n              listName=\"SousGenre\"\n              value={data.SousGenre}\n              list={lists.sousGenres}\n              onChange={(value) => handleChange({ target: { name: 'SousGenre', value } })} />\n\n\n            <div className='row'>\n              <Input\n                className=\"mb-3 col-sm-4\"\n                valueWidth=\"12\"\n                label=\"Tome\"\n                value={data.Tome}\n                onChange={(value) => handleChange({ target: { name: 'Tome', value } })} />\n\n              <Input\n                className=\"mb-3 col-sm-4\"\n                labelWidth=\"4\"\n                valueWidth=\"12\"\n                label=\"pages\"\n                value={data.NbPages}\n                onChange={(value) => handleChange({ target: { name: 'NbPages', value } })} />\n\n            </div>\n\n            <div className=\"row\">\n              {/** Edition */}\n              <Input\n                className=\"mb-3 col-sm-4\"\n                labelWidth=\"4\"\n                valueWidth=\"12\"\n                label=\"Edition\"\n                value={data.EditionYear}\n                onChange={(value) => handleChange({ target: { name: 'EditionYear', value } })} />\n\n              {/** Format */}\n              <InputCheckList\n                className=\"mb-3 col-sm-8\"\n                labelWidth=\"4\"\n                valueWidth=\"12\"\n                label=\"Format\"\n                value={data.Format}\n                list={lists.formats}\n                onChange={(value) => handleChange({ target: { name: 'Format', value } })} />\n\n            </div>\n          </div> {/** fin fiche */}\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {/** marge gauche */}\n        <div className=\"col-sm-1\"></div>\n        <div className=\"col-sm-10 row mb-3 border rounded bg-light\">\n          {/* Description */}\n          <div className=\"col-sm-6 mb-3\">\n            <label htmlFor=\"Description\" className=\"form-label\">\n              Résumé\n            </label>\n            <textarea\n              name=\"Description\"\n              cols=\"30\"\n              rows=\"5\"\n              className=\"form-control\"\n              value={data.Description}\n              onChange={handleChange}\n            />\n          </div>\n\n          {/* Commentaire */}\n          <div className=\"col-sm-6 mb-3\">\n            <label htmlFor=\"Commentaire\" className=\"form-label\">\n              Commentaire\n            </label>\n            <textarea\n              name=\"Commentaire\"\n              cols=\"30\"\n              rows=\"5\"\n              className=\"form-control\"\n              value={data.Commentaire || ''}\n              onChange={handleChange}\n            />\n          </div>\n        </div>\n        {/** marge droite */}\n        <div className=\"col-sm-1\"></div>\n      </div>\n\n      <div className=\"row mb-3\">\n        {/** marge gauche */}\n        <div className=\"col-sm-1\"></div>\n\n        {/** contenu : prêt(s) */}\n        <div className=\"col-sm-10 row mb-3 border rounded bg-light\">\n          {/* LentAt */}\n          <div className=\"mb-3 col-sm-4\">\n            <label htmlFor=\"LentAt\" className=\"form-label\">\n              Prêté à\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              name=\"LentAt\"\n              value={data.LentAt || ''}\n              onChange={handleChange}\n            />\n          </div>\n\n          {/* LentOn */}\n          <div className=\"mb-3 col-sm-4\">\n            <label htmlFor=\"LentOn\" className=\"form-label\">\n              Prêté le\n            </label>\n            <input\n              type=\"date\"\n              className=\"form-control\"\n              name=\"LentOn\"\n              value={data.LentOn || ''}\n              onChange={handleChange}\n            />\n          </div>\n\n          {/* LentReturnOn */}\n          <div className=\"mb-3 col-sm-4\">\n            <label htmlFor=\"LentReturnOn\" className=\"form-label\">\n              Rendu le\n            </label>\n            <input\n              type=\"date\"\n              className=\"form-control\"\n              name=\"LentReturnOn\"\n              value={data.LentReturnOn || ''}\n              onChange={handleChange}\n            />\n          </div>\n        </div>\n        {/** marge droite */}\n        <div className=\"col-sm-1\"></div>\n      </div>\n\n      {/** pied de page pour faire joli */}\n      <div className=\"mb-3\">&nbsp;</div>\n\n\n    </div >\n  )\n}\n\nexport default Fiche\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport api from '../api'\nimport Fiche from '../components/Fiche'\n\nconst Add = () => {\n  const history = useHistory();\n  const [data, setData] = useState(api.defaultState);\n  const [lists, setList] = useState(api.defaultList);\n  const [saving, setSaving] = useState(false);\n\n  const handleKeyPress = useCallback(async (e) => {\n    if (e.ctrlKey && e.key === 's') {\n      e.preventDefault();\n      setSaving(true);\n      await api.addBook(data)\n      setSaving(false);\n      history.replace(\"/\");\n    }\n  }, [data, history])\n\n  useEffect(() => {\n    // attach the event listener\n    document.addEventListener('keydown', handleKeyPress);\n\n    // remove the event listener\n    return () => {\n      document.removeEventListener('keydown', handleKeyPress);\n    };\n  }, [handleKeyPress]);\n\n  useEffect(() => {\n    const getList = async () => setList(await api.getLists())\n    getList();\n  }, []);\n\n  const handleChange = (e) =>\n    setData({ ...data, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await api.addBook(data)\n    history.replace(\"/\");\n  }\n\n  return (\n    <form style={{ margin: \"auto\" }} onSubmit={handleSubmit}>\n\n      <Fiche props={{ data, lists, handleChange }} />\n      <div className=\"row\"><p>pied de page</p></div>\n\n      {!saving ? (<div>\n        <div className=\"text-center fixed-bottom row\">\n          <button className=\"btn btn-primary col align-self-end\">Enregistrer</button>\n        </div>\n      </div>) : (<div className=\"bg-dark-transparent loading-panel\"></div>)}\n    </form>\n  );\n};\n\nexport default Add;\n","import { useParams, Link } from \"react-router-dom\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport api from '../api'\nimport Fiche from '../components/Fiche'\n\nconst Edit = () => {\n  const { rowIndex } = useParams();\n  const [data, setData] = useState(api.defaultState);\n  const [lists, setList] = useState(api.defaultList);\n  const [bookCount, setBookCount] = useState(0);\n  const [saving, setSaving] = useState(false);\n\n  const handleKeyPress = useCallback(async (e) => {\n    if (e.ctrlKey && e.key === 's') {\n      e.preventDefault();\n      setSaving(true);\n      await api.saveBook(rowIndex, data);\n      setSaving(false);\n    }\n  }, [data, rowIndex])\n\n  useEffect(() => {\n    const getData = async () => {\n      setData(await api.getBook(rowIndex))\n    };\n    const getList = async (ame) => setList(await api.getLists())\n    const getBookCount = async () => setBookCount(await api.getBookCount())\n    getData();\n    getBookCount();\n    getList();\n  }, [rowIndex]);\n\n  useEffect(() => {\n    // attach the event listener\n    document.addEventListener('keydown', handleKeyPress);\n\n    // remove the event listener\n    return () => {\n      document.removeEventListener('keydown', handleKeyPress);\n    };\n  }, [handleKeyPress]);\n\n  const handleChange = (e) =>\n    setData({ ...data, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    setSaving(true)\n    //e.preventDefault();\n    await api.saveBook(rowIndex, data)\n    //history.replace(\"/\");\n    setSaving(false)\n  };\n\n  return (\n    <div style={{ margin: \"auto\", position: 'relative' }} >\n\n      <Fiche props={{ data: data, lists: lists, handleChange }} />\n      <div className=\"row\"><p>pied de page</p></div>\n\n      {!saving ? (\n        <div className=\"row fixed-bottom bg-light p-3\">\n          <div className=\"col\">\n            <Link\n              to={`/edit/${parseInt(rowIndex) - 1}`}\n              className={`btn btn-primary ${rowIndex === \"0\" ? \"disabled\" : \"\"}`}>\n              &lt;&lt;\n            </Link>\n          </div>\n\n          <div className=\"col text-center\">\n            <button className=\"float-center btn btn-primary\" onClick={handleSubmit}>Enregistrer</button>\n          </div>\n\n          <div className=\"col\">\n            <Link\n              to={`/edit/${parseInt(rowIndex) + 1}`}\n              className={`float-end btn btn-primary ${parseInt(rowIndex) + 1 === bookCount ? \"disabled\" : \"\"}`}>\n              &gt;&gt;\n            </Link>\n          </div>\n        </div>) : (<div className=\"bg-dark-transparent loading-panel\"></div>)}\n\n    </div>\n  );\n};\n\nexport default Edit;\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Add from \"./pages/Add\";\nimport Edit from \"./pages/Edit\";\n\nfunction App() {\n  return (\n    <BrowserRouter basename=\"/MaLibrairie\">\n      <Navbar />\n      <div className=\"container-fluid\">\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/add\" component={Add} />\n          <Route exact path=\"/edit/:rowIndex\" component={Edit} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}