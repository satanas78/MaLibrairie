(this["webpackJsonpreact-gsheet-crud"]=this["webpackJsonpreact-gsheet-crud"]||[]).push([[0],{112:function(e,t){},229:function(e,t,n){},245:function(e,t){},247:function(e,t){},291:function(e,t){},293:function(e,t){},302:function(e,t){},304:function(e,t){},329:function(e,t){},331:function(e,t){},332:function(e,t){},337:function(e,t){},339:function(e,t){},358:function(e,t){},370:function(e,t){},373:function(e,t){},422:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(221),s=n.n(a),o=(n(229),n(24)),l=n(12),i=n(0),u=function(){return Object(i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-5",children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(o.b,{className:"navbar-brand",to:"/",children:"CRUD Google Sheet library"}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:Object(i.jsx)("li",{className:"nav-item mt-1",children:Object(i.jsx)(o.b,{className:"btn btn-primary btn-sm",to:"/add",children:"Add"})})})})]})})},d=n(2),b=n.n(d),j=n(13),m=n(16),h=n(224),p=n(223),f="1xw1u6aNjRzWYsn36GScv3K8hY-KVM2RRRcvQBzGXffA",x="0",O="334842323",v="googlesheetapi@xenon-chain-365516.iam.gserviceaccount.com",g="-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCymYnhgDcsq/Py\nbE8Kz7StHSxTaVRsNhhmkpT4Gm9d0pYynEjRw+jmPGdTxvU8kcNDentLvjbydJ/g\nM3apvkvjorPy1PlXfE6lkiRRUgZHZjQwoWN7CEdgnhoAX7/nh4n0PfrEqh4kW9ok\nfzhk7ApT8cj3eLiDz/jcA/mlDo1ZwCbbWmWrO74tfTrPKmBgAuXopf/65ZUzxEJ+\nboJAWDBNnw0aDwy+S2hdJa1ksRsI1aRTWg0QiCOpdR5qrrnUSPzynDKdmukH7UNX\nMzGD6yYwJ6+P3z8MPBEDG75qlhSkSg72ar1jO4ypJUZgM0opKTinYWP4AHhwfe9j\nFysv7mH9AgMBAAECggEABFQXn7Z6yoNfBdi9ewFDsLph8PeUNeHYajan6PIYZt62\nsy1PJSj+rlh3wfOyzS//L9XPwoCEARD12vou/bgrS1i4dxcq9TAsZnOJ8R/wH6+I\nw5ugYe1LxY9aCU5IxAoTPC8lsmR+bIUpXp8StSd0rJ98g7rnmzzhcXugg5vnAxjM\nZTWHBPw8dRgqXXq2NiTqICJiezKVccs5+j/19qEJSKvnUue3QRe3BbsKvS2J/4pW\n0a6AEB5h01mDUdYdkDP0Aa/bFcGc1z2n1rVOrU+2F4QC4PIlCa2HFGfVz2V3IFYA\nnNikJRY++9R/GwCZgthIIPsU+/OvaXgwrVwpo7pQRQKBgQDZnIQj/GmkqYSfKQKU\nZYa8nNwfg9+rBNeVLvJSd5F0R95wZXrb85t1u/ND1nxSQAbKrYvpSAJlslmohUAS\npLVirtGezgMn4ew8xXeuJFKbx41Ku4tETkWVP/uMndoSvjZBMGRKPWheGxXLL4Xz\nZfH/cvHE0y8t/f8c3t6YSCcQkwKBgQDSGzrLB20GcYzsL7uk8Yvb+lAXHe+686pB\ng9LB0kkjpso6y57bL1G/yaQ72o712NFDe5RfbQK3L3bK8MB3NjV/B812KdiO4qkC\n23k1Q8+mvSZWfeFwsntid+yjLRKirRun6/fIxo+jV0p7UxvShvg1S1e4OlxhTyea\nVr3dp5WtLwKBgHihpTb1s/KN7nD0oPN2nIxuQDBQQGtjkcancbl5gu588LhJ6SOJ\nFcLcX+xZOC24RIuSTR8SxhFuHvmmdHBhUhPUaWupNGKlgPnnVYL5q7mjk5W8BWXm\nJfiosV+wGbWOMDFPDCmDhRm11gz+2TimaNJ8+71qfJr4VLXCbo7oYI91AoGADsHA\n2F+2JZy2FCSqHkSk2Rd0ppsAqnXQwHc8x0Y4wttFGuoQRz7ElB7afSW1osjOsdmt\nKyKh7THVOx27tuPE0B5BLQp1XlvHGR9HHRmdLQ3d8nc27U5r4hegNDnHNEvKRHoL\nVjuz/Pn1jkHhE2FNb5jSGWtn76G6m1l6TmYl2hsCgYBGt54gXo3xvUcK3PLRubXI\nesHDEb/yHd35O06xwOFyBX7fUpWa2nlKC0c5Iwf6G0iyQcClZEtyKmGf5VM9VIOp\nbkLnihObREpPQ2cMyLpTWsdpvUtcis7+ISnvgDVKA/3hgSquwNggtEQKEvEq1S4Y\ntT68QinqcZpTZoa4L5KAqg==\n-----END PRIVATE KEY-----\n",N={Name:"",Author:"",Description:"",Jacket:"",Genre:"",SousGenre:"",Statut:"Non lu",Format:"",Tome:"",Commentaire:"",NbPages:"",LentTo:"",LentOn:"",LentReturnOn:""},w={genres:[],sousGenres:[],statuts:[],formats:[]},k=function(){var e=new p.GoogleSpreadsheet(f),t=!1,n=null,c=null,r={},a=function(){var a=Object(j.a)(b.a.mark((function a(){var s,o;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=17;break}return console.log("Initialisation de l'api"),a.next=4,e.useServiceAccountAuth({client_email:v,private_key:g});case 4:return a.next=6,e.loadInfo();case 6:return n=e.sheetsById[x],a.next=9,n.getRows();case 9:return c=a.sent,console.log("book count="+c.length),s=e.sheetsById[O],a.next=14,s.getRows();case 14:o=a.sent,r={genres:o.filter((function(e){return void 0!==e.Genre})).map((function(e){return e.Genre})),sousGenres:o.filter((function(e){return void 0!==e.SousGenre})).map((function(e){return e.SousGenre})),statuts:o.filter((function(e){return void 0!==e.Statut})).map((function(e){return e.Statut})),formats:o.filter((function(e){return void 0!==e.Format})).map((function(e){return e.Format}))},t=!0;case 17:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return{getBooks:function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getBook:function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",c[t]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBookCount:function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",c.length);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveBook:function(){var e=Object(j.a)(b.a.mark((function e(t,n){var r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:for(s in r=c[t],n)r[s]=n[s];return e.next=6,r.save();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addBook:function(){var e=Object(j.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:return e.next=5,n.addRow(t);case 5:r=e.sent,c=[].concat(Object(h.a)(c),[r]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),getLists:function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),defaultState:N,defaultList:w}}(),y=function(e,t){var n=Object(c.useState)((function(){return JSON.parse(sessionStorage.getItem(e))||t})),r=Object(m.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){sessionStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,s]},S=function(){var e=Object(c.useState)(),t=Object(m.a)(e,2),n=t[0],r=t[1],a=y("filter",null),s=Object(m.a)(a,2),u=s[0],d=s[1],h=y("filterGenre",null),p=Object(m.a)(h,2),f=p[0],x=p[1],O=y("filterSousGenre",null),v=Object(m.a)(O,2),g=v[0],N=v[1],w=y("displayMode","table"),S=Object(m.a)(w,2),C=S[0],A=S[1],G=Object(c.useState)(k.defaultList),L=Object(m.a)(G,2),B=L[0],R=L[1],F=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getBooks();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=R,e.next=3,k.getLists();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();F(),e()}),[]);var E=Object(l.f)(),D=function(){var e=Object(j.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://sheet.best/api/sheets/bff990d0-8ada-43e9-97eb-0ad668bb19ec/".concat(t),{method:"DELETE"});case 3:e.sent.ok&&(c=n.filter((function(e,n){return n!==t})),r(c)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){return null===u||void 0===u?void 0:u.toLowerCase().trim()},P=null===n||void 0===n?void 0:n.filter((function(e){return(!u||e.Name.toLowerCase().indexOf(I())>=0||e.Author.toLowerCase().indexOf(I())>=0||e.Genre.toLowerCase().indexOf(I())>=0||e.SousGenre.toLowerCase().indexOf(I())>=0)&&(!f||e.Genre===f)&&(!g||e.SousGenre===g)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"mb-3",children:Object(i.jsxs)("div",{className:"form-check form-switch",children:[Object(i.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:"table"===C,onChange:function(e){return A(e.target.checked?"table":"list")}}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"table"===C?"Affichage condens\xe9":"Affichage en liste"})]})}),Object(i.jsx)("div",{className:"mb-3",children:Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"rechercher: un titre, un auteur",value:u||"",onChange:function(e){return d(e.target.value)},autoFocus:!0})}),Object(i.jsxs)("table",{className:"table table-hover table-sm align-middle ".concat("table"===C?"":"d-none"),children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col"}),Object(i.jsx)("th",{scope:"col",children:"Titre"}),Object(i.jsx)("th",{scope:"col"}),Object(i.jsx)("th",{scope:"col",children:"Auteur"}),Object(i.jsx)("th",{scope:"col",children:Object(i.jsxs)("div",{class:"dropdown",children:[Object(i.jsxs)("div",{class:"dropdown-toggle dropdown-toggle-split",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[f||"Genre","\xa0"]}),Object(i.jsxs)("ul",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return x(null)},children:"\xa0"})}),B.genres.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return x(e)},children:e})},e)}))]})]})}),Object(i.jsx)("th",{scope:"col",children:Object(i.jsxs)("div",{class:"dropdown",children:[Object(i.jsxs)("div",{class:"dropdown-toggle dropdown-toggle-split",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[g||"Sous genre","\xa0"]}),Object(i.jsxs)("ul",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return N(null)},children:"\xa0"})}),B.sousGenres.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return N(e)},children:e})},e)}))]})]})})]})}),Object(i.jsx)("tbody",{children:"table"===C&&(null===P||void 0===P?void 0:P.map((function(e,t){return Object(i.jsxs)("tr",{onClick:function(){return function(e){return E.push("/edit/".concat(e))}(e._rowNumber-2)},children:[Object(i.jsx)("th",{scope:"row",children:Object(i.jsx)("img",{src:e.Jacket||"logo192.png",height:"50",width:"30",alt:"no-pic"})}),Object(i.jsx)("td",{children:e.Name}),Object(i.jsx)("td",{children:e.Tome?"tome "+e.Tome:""}),Object(i.jsx)("td",{children:e.Author}),Object(i.jsx)("td",{children:e.Genre}),Object(i.jsx)("td",{children:e.SousGenre})]},t)})))})]}),Object(i.jsx)("div",{className:"accordion ".concat("table"===C?"d-none":""),id:"accordionExample",children:"table"!==C&&(null===P||void 0===P?void 0:P.map((function(e,t){return Object(i.jsxs)("div",{className:"accordion-item",children:[Object(i.jsx)("h2",{className:"accordion-header",id:"heading".concat(t),children:Object(i.jsxs)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse".concat(t),"aria-expanded":"true","aria-controls":"collapse".concat(t),children:[Object(i.jsx)("img",{src:e.Jacket||"https://img.freepik.com/premium-vector/book-cover-transparent-background-also-includes_270215-78.jpg?w=740",height:"50",width:"30",alt:"no-pic"})," ",e.Name," ",e.Author]})}),Object(i.jsx)("div",{id:"collapse".concat(t),className:"accordion-collapse collapse","aria-labelledby":"heading".concat(t),"data-bs-parent":"#accordionExample",children:Object(i.jsxs)("div",{className:"accordion-body",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("strong",{className:"display-6",children:e.Name})," ---"," ",e.Author]}),Object(i.jsxs)("span",{children:[Object(i.jsx)(o.b,{to:"/edit/".concat(t),style:{textDecoration:"none"},children:"Edit"}),Object(i.jsx)("button",{className:"btn btn-sm btn-danger ms-1",onClick:function(){return D(t)},children:"X"})]})]}),Object(i.jsx)("p",{children:e.Description}),Object(i.jsx)("img",{src:e.Jacket,alt:e.name})]})})]},t)})))}),0===(null===P||void 0===P?void 0:P.length)?Object(i.jsx)("h4",{className:"col-12 text-muted text-center",children:"Aucun livre ne corresponds \xe0 votre recherche"}):""]})},C=n(50),A=n(51),G=function(e){var t=e.props,n=t.data,c=t.lists,r=t.handleChange;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"Name",className:"form-label",children:"Titre du livre"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"Name",value:n.Name,onChange:r,autoFocus:!0})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"Tome",className:"form-label",children:"Tome"}),Object(i.jsx)("input",{type:"number",className:"form-control",name:"Tome",value:n.Tome||"",onChange:r})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"NbPages",className:"form-label",children:"Nb pages"}),Object(i.jsx)("input",{type:"number",className:"form-control",name:"NbPages",value:n.NbPages||"",onChange:r})]}),Object(i.jsx)("div",{className:"mb-3",children:Object(i.jsxs)("div",{className:"form-check form-switch",children:[Object(i.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:"Lu"===n.Statut,onChange:function(e){return r({target:{name:"Statut",value:"Lu"===n.Statut?"Non lu":"Lu"}})}}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:n.Statut})]})}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"Format",className:"form-label",children:"Format"}),Object(i.jsx)("div",{children:c.formats.map((function(e){return Object(i.jsxs)("div",{className:"form-check form-check-inline",children:[Object(i.jsx)("input",{className:"form-check-input",type:"radio",name:"Format",id:"radio-"+e,value:e,checked:n.Format===e,onChange:r}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"radio-"+e,children:e})]},e)}))})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"Author",className:"form-label",children:"Auteur"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"Author",value:n.Author,onChange:r})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"Genre",className:"form-label",children:"Genre"}),Object(i.jsxs)("select",{type:"text",className:"form-select",name:"Genre",value:n.Genre||"",onChange:r,children:[Object(i.jsx)("option",{value:"",children:"-"}),c.genres.map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))]})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"SousGenre",className:"form-label",children:"Sous-genre"}),Object(i.jsxs)("select",{type:"text",className:"form-select",name:"SousGenre",value:n.SousGenre||"",onChange:r,children:[Object(i.jsx)("option",{value:"",children:"-"}),c.sousGenres.map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))]})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"Description",className:"form-label",children:"R\xe9sum\xe9"}),Object(i.jsx)("textarea",{name:"Description",cols:"30",rows:"3",className:"form-control",value:n.Description,onChange:r})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"Jacket",className:"form-label",children:"Jacket"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"Jacket",value:n.Jacket,onChange:r})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"Commentaire",className:"form-label",children:"Commentaire"}),Object(i.jsx)("textarea",{name:"Commentaire",cols:"30",rows:"3",className:"form-control",value:n.Commentaire||"",onChange:r})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"LentAt",className:"form-label",children:"Pr\xeat\xe9 \xe0"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"LentAt",value:n.LentAt||"",onChange:r})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"LentOn",className:"form-label",children:"Pr\xeat\xe9 le"}),Object(i.jsx)("input",{type:"date",className:"form-control",name:"LentOn",value:n.LentOn||"",onChange:r})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"LentReturnOn",className:"form-label",children:"Rendu le"}),Object(i.jsx)("input",{type:"date",className:"form-control",name:"LentReturnOn",value:n.LentReturnOn||"",onChange:r})]})]})},L=function(){var e=Object(l.f)(),t=Object(c.useState)(k.defaultState),n=Object(m.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(k.defaultList),o=Object(m.a)(s,2),u=o[0],d=o[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,k.getLists();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var h=function(){var t=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,k.addBook(r);case 3:e.replace("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("form",{style:{maxWidth:500,margin:"auto"},onSubmit:h,children:[Object(i.jsx)("h1",{className:"text-muted text-center",children:"Add"}),Object(i.jsx)(G,{props:{data:r,lists:u,handleChange:function(e){return a(Object(A.a)(Object(A.a)({},r),{},Object(C.a)({},e.target.name,e.target.value)))}}}),Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("button",{className:"btn btn-primary",children:"Add"})})]})},B=function(){var e=Object(l.g)().rowIndex,t=Object(c.useState)(k.defaultState),n=Object(m.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(k.defaultList),u=Object(m.a)(s,2),d=u[0],h=u[1],p=Object(c.useState)(0),f=Object(m.a)(p,2),x=f[0],O=f[1];Object(c.useEffect)((function(){var t=function(){var t=Object(j.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,k.getBook(e);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=h,e.next=3,k.getLists();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O,e.next=3,k.getBookCount();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),c(),n()}),[e]);var v=function(){var t=Object(j.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault();try{k.saveBook(e,r)}catch(c){console.log(c)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("form",{style:{maxWidth:500,margin:"auto"},onSubmit:v,children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsx)(o.b,{to:"/edit/".concat(parseInt(e)-1),className:"btn btn-primary ".concat("0"===e?"disabled":""),children:"<<"})}),Object(i.jsx)("h1",{className:"col-8 text-muted text-center",children:"Modifier un livre"}),Object(i.jsx)("div",{className:"col",children:Object(i.jsx)(o.b,{to:"/edit/".concat(parseInt(e)+1),className:"btn btn-primary ".concat(parseInt(e)+1===x?"disabled":""),children:">>"})})]}),Object(i.jsx)(G,{props:{data:r,lists:d,handleChange:function(e){return a(Object(A.a)(Object(A.a)({},r),{},Object(C.a)({},e.target.name,e.target.value)))}}}),Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("button",{className:"btn btn-primary",children:"Update"})})]})};var R=function(){return Object(i.jsxs)(o.a,{basename:"/MaLibrairie",children:[Object(i.jsx)(u,{}),Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)(l.c,{children:[Object(i.jsx)(l.a,{exact:!0,path:"/",component:S}),Object(i.jsx)(l.a,{exact:!0,path:"/add",component:L}),Object(i.jsx)(l.a,{exact:!0,path:"/edit/:rowIndex",component:B})]})})]})};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(R,{})}),document.getElementById("root"))}},[[422,1,2]]]);
//# sourceMappingURL=main.49fc7781.chunk.js.map