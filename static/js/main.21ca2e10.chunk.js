(this["webpackJsonpreact-gsheet-crud"]=this["webpackJsonpreact-gsheet-crud"]||[]).push([[0],{113:function(e,t){},229:function(e,t,n){},245:function(e,t){},247:function(e,t){},291:function(e,t){},293:function(e,t){},302:function(e,t){},304:function(e,t){},329:function(e,t){},331:function(e,t){},332:function(e,t){},337:function(e,t){},339:function(e,t){},358:function(e,t){},370:function(e,t){},373:function(e,t){},422:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(222),s=n.n(r),o=(n(229),n(24)),l=n(14),i=n(0),u=function(){return Object(i.jsx)("nav",{className:"navbar sticky-top navbar-expand-lg navbar-dark bg-dark mb-2",children:Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(o.b,{className:"navbar-brand",to:"/",children:Object(i.jsx)("div",{children:"My personal book store"})}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:Object(i.jsx)("li",{className:"nav-item mt-1",children:Object(i.jsx)(o.b,{className:"btn btn-primary btn-sm",to:"/add",children:"Ajouter un livre"})})})})]})})},d=n(2),b=n.n(d),j=n(37),m=n(12),h=n(9),f=n(424),p=n(224),x={SPREADSHEET_ID:"1xw1u6aNjRzWYsn36GScv3K8hY-KVM2RRRcvQBzGXffA",SHEET_ID:"0",SHEET_LIST_ID:"334842323",CLIENT_EMAIL:"googlesheetapi@xenon-chain-365516.iam.gserviceaccount.com",PRIVATE_KEY:"-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCymYnhgDcsq/Py\nbE8Kz7StHSxTaVRsNhhmkpT4Gm9d0pYynEjRw+jmPGdTxvU8kcNDentLvjbydJ/g\nM3apvkvjorPy1PlXfE6lkiRRUgZHZjQwoWN7CEdgnhoAX7/nh4n0PfrEqh4kW9ok\nfzhk7ApT8cj3eLiDz/jcA/mlDo1ZwCbbWmWrO74tfTrPKmBgAuXopf/65ZUzxEJ+\nboJAWDBNnw0aDwy+S2hdJa1ksRsI1aRTWg0QiCOpdR5qrrnUSPzynDKdmukH7UNX\nMzGD6yYwJ6+P3z8MPBEDG75qlhSkSg72ar1jO4ypJUZgM0opKTinYWP4AHhwfe9j\nFysv7mH9AgMBAAECggEABFQXn7Z6yoNfBdi9ewFDsLph8PeUNeHYajan6PIYZt62\nsy1PJSj+rlh3wfOyzS//L9XPwoCEARD12vou/bgrS1i4dxcq9TAsZnOJ8R/wH6+I\nw5ugYe1LxY9aCU5IxAoTPC8lsmR+bIUpXp8StSd0rJ98g7rnmzzhcXugg5vnAxjM\nZTWHBPw8dRgqXXq2NiTqICJiezKVccs5+j/19qEJSKvnUue3QRe3BbsKvS2J/4pW\n0a6AEB5h01mDUdYdkDP0Aa/bFcGc1z2n1rVOrU+2F4QC4PIlCa2HFGfVz2V3IFYA\nnNikJRY++9R/GwCZgthIIPsU+/OvaXgwrVwpo7pQRQKBgQDZnIQj/GmkqYSfKQKU\nZYa8nNwfg9+rBNeVLvJSd5F0R95wZXrb85t1u/ND1nxSQAbKrYvpSAJlslmohUAS\npLVirtGezgMn4ew8xXeuJFKbx41Ku4tETkWVP/uMndoSvjZBMGRKPWheGxXLL4Xz\nZfH/cvHE0y8t/f8c3t6YSCcQkwKBgQDSGzrLB20GcYzsL7uk8Yvb+lAXHe+686pB\ng9LB0kkjpso6y57bL1G/yaQ72o712NFDe5RfbQK3L3bK8MB3NjV/B812KdiO4qkC\n23k1Q8+mvSZWfeFwsntid+yjLRKirRun6/fIxo+jV0p7UxvShvg1S1e4OlxhTyea\nVr3dp5WtLwKBgHihpTb1s/KN7nD0oPN2nIxuQDBQQGtjkcancbl5gu588LhJ6SOJ\nFcLcX+xZOC24RIuSTR8SxhFuHvmmdHBhUhPUaWupNGKlgPnnVYL5q7mjk5W8BWXm\nJfiosV+wGbWOMDFPDCmDhRm11gz+2TimaNJ8+71qfJr4VLXCbo7oYI91AoGADsHA\n2F+2JZy2FCSqHkSk2Rd0ppsAqnXQwHc8x0Y4wttFGuoQRz7ElB7afSW1osjOsdmt\nKyKh7THVOx27tuPE0B5BLQp1XlvHGR9HHRmdLQ3d8nc27U5r4hegNDnHNEvKRHoL\nVjuz/Pn1jkHhE2FNb5jSGWtn76G6m1l6TmYl2hsCgYBGt54gXo3xvUcK3PLRubXI\nesHDEb/yHd35O06xwOFyBX7fUpWa2nlKC0c5Iwf6G0iyQcClZEtyKmGf5VM9VIOp\nbkLnihObREpPQ2cMyLpTWsdpvUtcis7+ISnvgDVKA/3hgSquwNggtEQKEvEq1S4Y\ntT68QinqcZpTZoa4L5KAqg==\n-----END PRIVATE KEY-----\n"},O={Name:"",Author:"",Description:"",Jacket:"",Genre:"",SousGenre:"",Statut:"Non lu",Format:"",Tome:"",Commentaire:"",NbPages:"",LentTo:"",LentOn:"",LentReturnOn:"",Rating:"0",EditionYear:""},v={genres:[],sousGenres:[],statuts:[],formats:[]},g=function(){var e=new p.GoogleSpreadsheet(x.SPREADSHEET_ID),t=!1,n=null,a=null,c={},r=function(){var r=Object(m.a)(b.a.mark((function r(){var s,o;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=17;break}return console.log("Initialisation de l'api"),r.next=4,e.useServiceAccountAuth({client_email:x.CLIENT_EMAIL,private_key:x.PRIVATE_KEY});case 4:return r.next=6,e.loadInfo();case 6:return n=e.sheetsById[x.SHEET_ID],r.next=9,n.getRows();case 9:return a=r.sent,console.log("book count="+a.length),s=e.sheetsById[x.SHEET_LIST_ID],r.next=14,s.getRows();case 14:o=r.sent,c={genres:o.filter((function(e){return void 0!==e.Genre})).map((function(e){return e.Genre})),sousGenres:o.filter((function(e){return void 0!==e.SousGenre})).map((function(e){return e.SousGenre})),statuts:o.filter((function(e){return void 0!==e.Statut})).map((function(e){return e.Statut})),formats:o.filter((function(e){return void 0!==e.Format})).map((function(e){return e.Format}))},t=!0;case 17:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return{getBooks:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getBook:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",a[t]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBookCount:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",a.length);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveBook:function(){var e=Object(m.a)(b.a.mark((function e(t,n){var c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:for(s in c=a[t],n)c[s]=n[s];return e.next=6,c.save();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addBook:function(){var e=Object(m.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r();case 3:return e.next=5,n.addRow(t);case 5:c=e.sent,a=[].concat(Object(j.a)(a),[c]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),deleteBook:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.next=4,a[t].delete();case 4:return e.next=6,n.getRows();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getLists:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),defaultState:O,defaultList:v}}(),N=function(e,t){var n=Object(a.useState)((function(){return JSON.parse(sessionStorage.getItem(e))||t})),c=Object(h.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){sessionStorage.setItem(e,JSON.stringify(r))}),[e,r]),[r,s]},w=function(){var e,t,n=Object(a.useState)(),c=Object(h.a)(n,2),r=c[0],s=c[1],u=N("filter",null),d=Object(h.a)(u,2),p=d[0],x=d[1],O=N("filterGenre",null),v=Object(h.a)(O,2),w=v[0],k=v[1],y=N("filterSousGenre",null),S=Object(h.a)(y,2),C=S[0],E=S[1],L=N("displayMode","table"),A=Object(h.a)(L,2),B=A[0],G=A[1],R=Object(a.useState)(g.defaultList),I=Object(h.a)(R,2),D=I[0],T=I[1],P=Object(a.useState)(!0),F=Object(h.a)(P,2),K=F[0],W=F[1];Object(a.useEffect)((function(){var e=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=j.a,e.next=4,g.getBooks();case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",(0,e.t0)(e.t3));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=T,e.next=3,g.getLists();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(function(){var n=Object(m.a)(b.a.mark((function n(){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:return n.next=4,e();case 4:W(!1);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]);var J=Object(l.f)(),H=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),W(!0),e.t0=s,e.t1=j.a,e.next=6,g.deleteBook(n);case 6:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),W(!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){return null===p||void 0===p?void 0:p.toLowerCase().trim()},M=null===r||void 0===r?void 0:r.filter((function(e){return(!p||e.Name.toLowerCase().indexOf(Y())>=0||e.Author.toLowerCase().indexOf(Y())>=0||e.Genre.toLowerCase().indexOf(Y())>=0||e.SousGenre.toLowerCase().indexOf(Y())>=0)&&(!w||e.Genre===w)&&(!C||e.SousGenre===C)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"mb-3 border rounder bg-light col-sm-2",children:Object(i.jsxs)("div",{className:"form-check form-switch",children:[Object(i.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:"table"===B,onChange:function(e){return G(e.target.checked?"table":"list")}}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"table"===B?"Affichage condens\xe9":"Affichage en liste"})]})}),Object(i.jsxs)("div",{className:"mb-3 row",children:[Object(i.jsx)("div",{className:"col-sm-11",children:Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"rechercher: un titre, un auteur",value:p||"",onChange:function(e){return x(e.target.value)},autoFocus:!0})}),Object(i.jsx)("div",{className:"col-sm-1",children:Object(i.jsx)("span",{className:"badge rounded-pill bg-info",style:{verticalAlign:"sub"},children:"".concat(null!==(e=null===M||void 0===M?void 0:M.length)&&void 0!==e?e:0," / ").concat(null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0)})})]}),Object(i.jsxs)("table",{className:"table table-hover table-sm align-middle  border rounded bg-light ".concat("table"===B?"":"d-none"),children:[Object(i.jsxs)("colgroup",{children:[Object(i.jsx)("col",{className:"col-md-5"}),Object(i.jsx)("col",{className:"col-md-1"}),Object(i.jsx)("col",{className:"col-md-2"}),Object(i.jsx)("col",{className:"col-md-2"}),Object(i.jsx)("col",{className:"col-md-2"})]}),Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"Titre"}),Object(i.jsx)("th",{scope:"col",children:"\xa0"}),Object(i.jsx)("th",{scope:"col",children:"Auteur"}),Object(i.jsx)("th",{scope:"col",children:Object(i.jsxs)("div",{className:"dropdown",children:[Object(i.jsxs)("div",{className:"dropdown-toggle dropdown-toggle-split",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[w?Object(i.jsx)("mark",{children:w}):"Genre","\xa0"]}),Object(i.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return k(null)},children:"\xa0"})}),D.genres.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return k(e)},children:e})},e)}))]})]})}),Object(i.jsx)("th",{scope:"col",children:Object(i.jsxs)("div",{className:"dropdown",children:[Object(i.jsxs)("div",{className:"dropdown-toggle dropdown-toggle-split",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[C?Object(i.jsx)("mark",{children:C}):"Sous genre","\xa0"]}),Object(i.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return E(null)},children:"\xa0"})}),D.sousGenres.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return E(e)},children:e})},e)}))]})]})})]})}),Object(i.jsx)("tbody",{children:"table"===B&&(null===M||void 0===M?void 0:M.map((function(e,t){return Object(i.jsxs)("tr",{onClick:function(){return function(e){return J.push("/edit/".concat(e))}(e._rowNumber-2)},children:[Object(i.jsxs)("th",{scope:"row",children:[Object(i.jsx)("img",{src:e.Jacket||"https://adamshop.biz.id/wp-content/uploads/2021/08/Book.png",height:"50",width:"30",alt:"no-pic"}),"\xa0\xa0",e.Name]}),Object(i.jsx)("td",{children:e.Tome?"tome "+e.Tome:""}),Object(i.jsx)("td",{children:e.Author}),Object(i.jsx)("td",{children:e.Genre}),Object(i.jsx)("td",{children:Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("div",{children:e.SousGenre||"-"}),Object(i.jsx)("div",{style:{position:"absolute",bottom:0,right:0},children:Object(i.jsx)(f.a,{color:"gray",size:16,className:"delete-icon",onClick:function(t){return H(t,e._rowNumber-2)}})})]})})]},t)})))})]}),Object(i.jsx)("div",{className:"accordion ".concat("table"===B?"d-none":""),id:"accordionExample",children:"table"!==B&&(null===M||void 0===M?void 0:M.map((function(e,t){return Object(i.jsxs)("div",{className:"accordion-item",children:[Object(i.jsx)("h2",{className:"accordion-header",id:"heading".concat(t),children:Object(i.jsxs)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse".concat(t),"aria-expanded":"true","aria-controls":"collapse".concat(t),children:[Object(i.jsx)("img",{src:e.Jacket||"https://adamshop.biz.id/wp-content/uploads/2021/08/Book.png",height:"50",width:"30",alt:"no-pic"})," ",e.Name," ",e.Author]})}),Object(i.jsx)("div",{id:"collapse".concat(t),className:"accordion-collapse collapse","aria-labelledby":"heading".concat(t),"data-bs-parent":"#accordionExample",children:Object(i.jsxs)("div",{className:"accordion-body",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("strong",{className:"display-6",children:e.Name})," ---"," ",e.Author]}),Object(i.jsxs)("span",{children:[Object(i.jsx)(o.b,{to:"/edit/".concat(t),style:{textDecoration:"none"},children:"Edit"}),Object(i.jsx)("button",{className:"btn btn-sm btn-danger ms-1",onClick:function(){return H(t)},children:"X"})]})]}),Object(i.jsx)("p",{children:e.Description}),Object(i.jsx)("img",{src:e.Jacket,alt:e.name})]})})]},t)})))}),0===(null===M||void 0===M?void 0:M.length)?Object(i.jsx)("h4",{className:"col-12 text-muted text-center",children:"Aucun livre ne corresponds \xe0 votre recherche"}):"",Object(i.jsx)("div",{children:"\xa0"}),K&&Object(i.jsx)("div",{className:"bg-dark-transparent loading-panel"})]})},k=n(52),y=n(53),S=function(e){var t=e.value,n=e.onChange,c=Object(a.useState)(0),r=Object(h.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(0),u=Object(h.a)(l,2),d=u[0],b=u[1],m=Object(a.useState)(!1),f=Object(h.a)(m,2),p=f[0],x=f[1];return Object(a.useEffect)((function(){o(t)}),[t]),Object(i.jsxs)("div",{className:"star-rating",children:[Object(j.a)(Array(5)).map((function(e,t){return t+=1,Object(i.jsx)("button",{type:"button",className:"starButton  ".concat(t<=(d||s)?"on":"off"),onClick:function(){return n(t)},onMouseEnter:function(){return b(t)},onMouseLeave:function(){return b(s)},children:Object(i.jsx)("span",{className:"star",children:"\u2605"})},t)})),Object(i.jsx)("button",{type:"button",className:"fw-lighter clearButton ".concat(p?"on":"off"),onMouseEnter:function(){return x(!0)},onClick:function(){return n(0)},onMouseLeave:function(){return x(!1)},title:"clear rating",children:"\u2205"})]})},C=function(e){var t=e.label,n=e.value,a=e.className,c=e.labelWidth,r=e.valueWidth,s=e.autofocus,o=void 0!==s&&s,l=e.onChange;return Object(i.jsxs)("div",{className:"".concat(a),children:[Object(i.jsx)("label",{htmlFor:"Name",className:"col-sm-".concat(null!==c&&void 0!==c?c:12," col-form-label"),children:t}),Object(i.jsx)("div",{className:"col-sm-".concat(null!==r&&void 0!==r?r:12),children:Object(i.jsx)("input",{type:"text",className:"form-control",name:"Name",value:n,onChange:function(e){return l(e.target.value)},autoFocus:o})})]})},E=function(e){var t=e.label,n=e.value,a=e.className,c=e.labelWidth,r=e.valueWidth,s=e.list,o=e.listName,l=e.onChange;return Object(i.jsxs)("div",{className:"".concat(a),children:[Object(i.jsx)("label",{htmlFor:"Name",className:"col-sm-".concat(null!==c&&void 0!==c?c:12," col-form-label"),children:Object(i.jsxs)("div",{className:"d-flex",children:[t,"\xa0",Object(i.jsx)("div",{className:"button btn-primary","data-bs-toggle":"modal","data-bs-target":"#editList-".concat(o),title:"Ajouter une valeur",children:"+"})]})}),Object(i.jsx)("div",{className:"col-sm-".concat(null!==r&&void 0!==r?r:12),children:Object(i.jsxs)("select",{type:"text",className:"form-select",name:"Name",value:n||"",onChange:function(e){return l(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"-"}),s.map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))]})})]})},L=function(e){var t=e.label,n=e.value,a=e.className,c=e.labelWidth,r=e.valueWidth,s=e.list,o=e.onChange;return Object(i.jsxs)("div",{className:"".concat(a),children:[Object(i.jsx)("label",{htmlFor:"Name",className:"col-sm-".concat(null!==c&&void 0!==c?c:12," col-form-label"),children:t}),Object(i.jsx)("div",{className:"col-sm-".concat(null!==r&&void 0!==r?r:12),style:{paddingTop:10},children:s.map((function(e){return Object(i.jsxs)("div",{className:"form-control-check form-check form-check-inline",children:[Object(i.jsx)("input",{className:"form-check-input",type:"radio",name:"Format",id:"radio-"+e,value:e,checked:n===e,onChange:function(e){return o(e.target.value)}}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"radio-"+e,children:e})]},e)}))})]})},A=function(e){var t=e.name,n=e.list,c=Object(a.useState)([]),r=Object(h.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(""),u=Object(h.a)(l,2),d=u[0],b=u[1],m=function(){var e=Object(a.useRef)(null);return[e,function(){e.current&&e.current.focus()}]}(),f=Object(h.a)(m,2),p=f[0],x=f[1];Object(a.useEffect)((function(){o(n)}),[n]);return Object(i.jsx)("div",{className:"modal fade",id:"editList-".concat(t),tabindex:"-1","aria-labelledby":"exampleModalLabel-".concat(t),"aria-hidden":"true",children:Object(i.jsx)("div",{className:"modal-dialog",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsxs)("h5",{className:"modal-title",id:"exampleModalLabel-".concat(t),children:["Edition de la liste : ",t]}),Object(i.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(i.jsxs)("div",{className:"modal-body",children:[Object(i.jsx)("div",{className:"alert alert-danger",children:"Experimental feature - do not use"}),null===s||void 0===s?void 0:s.map((function(e,t){return Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("input",{className:"form-control",value:e,onChange:function(e){},readOnly:!0})})},t)})),Object(i.jsxs)("div",{className:"mb-2 d-flex",children:[Object(i.jsx)("input",{className:"form-control",placeholder:"nouvelle valeur",ref:p,name:"newValue",value:d,onChange:function(e){return t=e.target.value,void b(t);var t}}),Object(i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e=d,o([].concat(Object(j.a)(s),[e])),b(""),void x();var e},children:"+"})]})]}),Object(i.jsxs)("div",{className:"modal-footer",children:[Object(i.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(i.jsx)("button",{type:"button",className:"btn btn-primary",children:"Save changes"})]})]})})})},B=function(e){var t=e.props,n=t.data,a=t.lists,c=t.handleChange;return Object(i.jsxs)("div",{children:[Object(i.jsx)(A,{name:"Genre",list:a.genres}),Object(i.jsx)(A,{name:"SousGenre",list:a.sousGenres}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsx)("div",{className:"col-sm-1"}),Object(i.jsxs)("div",{className:"col-sm-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",name:"Jacket",value:n.Jacket,onChange:c,placeholder:"Jacket"}),Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("img",{src:n.Jacket||"https://adamshop.biz.id/wp-content/uploads/2021/08/Book.png",alt:"-",className:"img-fluid mb-2",width:"100%"}),Object(i.jsx)("div",{className:"bg-ligh d-none",style:{position:"absolute",top:5},children:n.Name})]}),Object(i.jsxs)("div",{className:"row mb-3 border rounded bg-light mx-1",children:[Object(i.jsx)("div",{className:"col-6",style:{marginTop:"0.5em"},children:Object(i.jsxs)("div",{className:"form-check form-switch",children:[Object(i.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:"Lu"===n.Statut,onChange:function(e){return c({target:{name:"Statut",value:"Lu"===n.Statut?"Non lu":"Lu"}})}}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:n.Statut})]})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)(S,{name:"Rating",value:parseInt(n.Rating||"0"),onChange:function(e){return c({target:{name:"Rating",value:e}})}},"rating-".concat(n.Rating))})]})]}),Object(i.jsxs)("div",{className:"col-sm-7 ",children:[Object(i.jsxs)("div",{className:"border rounded bg-light p-4",children:[Object(i.jsx)(C,{className:"mb-3 col-12",label:"Titre",value:n.Name,autofocus:!0,onChange:function(e){return c({target:{name:"Name",value:e}})}}),Object(i.jsx)(C,{className:"mb-3 col-sm-12",label:"Auteur",value:n.Author,onChange:function(e){return c({target:{name:"Author",value:e}})}}),Object(i.jsx)(E,{className:"mb-3 col-sm-12",label:"Genre",listName:"Genre",value:n.Genre,list:a.genres,onChange:function(e){return c({target:{name:"Genre",value:e}})}}),Object(i.jsx)(E,{className:"mb-3 col-sm-12",label:"Sous-genre",listName:"SousGenre",value:n.SousGenre,list:a.sousGenres,onChange:function(e){return c({target:{name:"SousGenre",value:e}})}}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)(C,{className:"mb-3 col-sm-4",valueWidth:"12",label:"Tome",value:n.Tome,onChange:function(e){return c({target:{name:"Tome",value:e}})}}),Object(i.jsx)(C,{className:"mb-3 col-sm-4",labelWidth:"4",valueWidth:"12",label:"pages",value:n.NbPages,onChange:function(e){return c({target:{name:"NbPages",value:e}})}})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)(C,{className:"mb-3 col-sm-4",labelWidth:"4",valueWidth:"12",label:"Edition",value:n.EditionYear,onChange:function(e){return c({target:{name:"EditionYear",value:e}})}}),Object(i.jsx)(L,{className:"mb-3 col-sm-8",labelWidth:"4",valueWidth:"12",label:"Format",value:n.Format,list:a.formats,onChange:function(e){return c({target:{name:"Format",value:e}})}})]})]})," "]})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-sm-1"}),Object(i.jsxs)("div",{className:"col-sm-10 row mb-3 border rounded bg-light",children:[Object(i.jsxs)("div",{className:"col-sm-6 mb-3",children:[Object(i.jsx)("label",{htmlFor:"Description",className:"form-label",children:"R\xe9sum\xe9"}),Object(i.jsx)("textarea",{name:"Description",cols:"30",rows:"5",className:"form-control",value:n.Description,onChange:c})]}),Object(i.jsxs)("div",{className:"col-sm-6 mb-3",children:[Object(i.jsx)("label",{htmlFor:"Commentaire",className:"form-label",children:"Commentaire"}),Object(i.jsx)("textarea",{name:"Commentaire",cols:"30",rows:"5",className:"form-control",value:n.Commentaire||"",onChange:c})]})]}),Object(i.jsx)("div",{className:"col-sm-1"})]}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsx)("div",{className:"col-sm-1"}),Object(i.jsxs)("div",{className:"col-sm-10 row mb-3 border rounded bg-light",children:[Object(i.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(i.jsx)("label",{htmlFor:"LentAt",className:"form-label",children:"Pr\xeat\xe9 \xe0"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"LentAt",value:n.LentAt||"",onChange:c})]}),Object(i.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(i.jsx)("label",{htmlFor:"LentOn",className:"form-label",children:"Pr\xeat\xe9 le"}),Object(i.jsx)("input",{type:"date",className:"form-control",name:"LentOn",value:n.LentOn||"",onChange:c})]}),Object(i.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(i.jsx)("label",{htmlFor:"LentReturnOn",className:"form-label",children:"Rendu le"}),Object(i.jsx)("input",{type:"date",className:"form-control",name:"LentReturnOn",value:n.LentReturnOn||"",onChange:c})]})]}),Object(i.jsx)("div",{className:"col-sm-1"})]}),Object(i.jsx)("div",{className:"mb-3",children:"\xa0"})]})},G=function(){var e=Object(l.f)(),t=Object(a.useState)(g.defaultState),n=Object(h.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(g.defaultList),o=Object(h.a)(s,2),u=o[0],d=o[1],j=Object(a.useState)(!1),f=Object(h.a)(j,2),p=f[0],x=f[1],O=Object(a.useCallback)(function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ctrlKey||"s"!==n.key){t.next=7;break}return n.preventDefault(),x(!0),t.next=5,g.addBook(c);case 5:x(!1),e.replace("/");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[c,e]);Object(a.useEffect)((function(){return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}}),[O]),Object(a.useEffect)((function(){(function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,g.getLists();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,g.addBook(c);case 3:e.replace("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("form",{style:{margin:"auto"},onSubmit:v,children:[Object(i.jsx)(B,{props:{data:c,lists:u,handleChange:function(e){return r(Object(y.a)(Object(y.a)({},c),{},Object(k.a)({},e.target.name,e.target.value)))}}}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("p",{children:"pied de page"})}),p?Object(i.jsx)("div",{className:"bg-dark-transparent loading-panel"}):Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"text-center fixed-bottom row",children:Object(i.jsx)("button",{className:"btn btn-primary col align-self-end",children:"Enregistrer"})})})]})},R=function(){var e=Object(l.g)().rowIndex,t=Object(a.useState)(g.defaultState),n=Object(h.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(g.defaultList),u=Object(h.a)(s,2),d=u[0],j=u[1],f=Object(a.useState)(0),p=Object(h.a)(f,2),x=p[0],O=p[1],v=Object(a.useState)(!1),N=Object(h.a)(v,2),w=N[0],S=N[1],C=Object(a.useCallback)(function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ctrlKey||"s"!==n.key){t.next=6;break}return n.preventDefault(),S(!0),t.next=5,g.saveBook(e,c);case 5:S(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[c,e]);Object(a.useEffect)((function(){var t=function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,g.getBook(e);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j,e.next=3,g.getLists();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O,e.next=3,g.getBookCount();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),a(),n()}),[e]),Object(a.useEffect)((function(){return document.addEventListener("keydown",C),function(){document.removeEventListener("keydown",C)}}),[C]);var E=function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.next=3,g.saveBook(e,c);case 3:S(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("div",{style:{margin:"auto",position:"relative"},children:[Object(i.jsx)(B,{props:{data:c,lists:d,handleChange:function(e){return r(Object(y.a)(Object(y.a)({},c),{},Object(k.a)({},e.target.name,e.target.value)))}}}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("p",{children:"pied de page"})}),w?Object(i.jsx)("div",{className:"bg-dark-transparent loading-panel"}):Object(i.jsxs)("div",{className:"row fixed-bottom bg-light p-3",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsx)(o.b,{to:"/edit/".concat(parseInt(e)-1),className:"btn btn-primary ".concat("0"===e?"disabled":""),children:"<<"})}),Object(i.jsx)("div",{className:"col text-center",children:Object(i.jsx)("button",{className:"float-center btn btn-primary",onClick:E,children:"Enregistrer"})}),Object(i.jsx)("div",{className:"col",children:Object(i.jsx)(o.b,{to:"/edit/".concat(parseInt(e)+1),className:"float-end btn btn-primary ".concat(parseInt(e)+1===x?"disabled":""),children:">>"})})]})]})};var I=function(){return Object(i.jsxs)(o.a,{basename:"/MaLibrairie",children:[Object(i.jsx)(u,{}),Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)(l.c,{children:[Object(i.jsx)(l.a,{exact:!0,path:"/",component:w}),Object(i.jsx)(l.a,{exact:!0,path:"/add",component:G}),Object(i.jsx)(l.a,{exact:!0,path:"/edit/:rowIndex",component:R})]})})]})};s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(I,{})}),document.getElementById("root"))}},[[422,1,2]]]);
//# sourceMappingURL=main.21ca2e10.chunk.js.map