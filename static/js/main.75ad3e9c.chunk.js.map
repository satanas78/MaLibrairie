{"version":3,"sources":["components/Navbar.js","api.js","pages/Home.js","components/Fiche.js","pages/Add.js","pages/Edit.js","App.js","index.js"],"names":["Navbar","className","to","config","defaultState","Name","Author","Description","Jacket","Genre","SousGenre","Statut","Format","Tome","Commentaire","NbPages","LentTo","LentOn","LentReturnOn","defaultList","genres","sousGenres","statuts","formats","api","doc","GoogleSpreadsheet","initialised","bookSheet","books","lists","init","a","console","log","useServiceAccountAuth","client_email","private_key","loadInfo","sheetsById","getRows","length","sheet","rows","filter","o","undefined","map","getBooks","getBook","id","getBookCount","saveBook","book","prop","data","save","addBook","addRow","newBook","getLists","Home","useState","setData","getData","useEffect","handleDelete","rowIndex","fetch","method","ok","updatedData","_","i","item","type","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","src","height","width","alt","aria-labelledby","data-bs-parent","style","textDecoration","onClick","name","Fiche","props","handleChange","htmlFor","value","onChange","checked","c","target","cols","LentAt","Add","history","useHistory","setList","getList","handleSubmit","e","preventDefault","replace","maxWidth","margin","onSubmit","Edit","useParams","bookCount","setBookCount","ame","error","parseInt","App","basename","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75ad3e9c.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark mb-5\">\n      <div className=\"container\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          CRUD Google Sheet library\n        </Link>\n        <div>\n          <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\n            <li className=\"nav-item mt-1\">\n              <Link className=\"btn btn-primary btn-sm\" to=\"/add\">\n                Add\n              </Link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import { GoogleSpreadsheet } from \"google-spreadsheet\";\n\nconst config = {\n  SPREADSHEET_ID: '1xw1u6aNjRzWYsn36GScv3K8hY-KVM2RRRcvQBzGXffA',\n  SHEET_ID: '0',\n  SHEET_LIST_ID: '334842323',\n  CLIENT_EMAIL: 'googlesheetapi@xenon-chain-365516.iam.gserviceaccount.com',\n  PRIVATE_KEY: '-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCymYnhgDcsq/Py\\nbE8Kz7StHSxTaVRsNhhmkpT4Gm9d0pYynEjRw+jmPGdTxvU8kcNDentLvjbydJ/g\\nM3apvkvjorPy1PlXfE6lkiRRUgZHZjQwoWN7CEdgnhoAX7/nh4n0PfrEqh4kW9ok\\nfzhk7ApT8cj3eLiDz/jcA/mlDo1ZwCbbWmWrO74tfTrPKmBgAuXopf/65ZUzxEJ+\\nboJAWDBNnw0aDwy+S2hdJa1ksRsI1aRTWg0QiCOpdR5qrrnUSPzynDKdmukH7UNX\\nMzGD6yYwJ6+P3z8MPBEDG75qlhSkSg72ar1jO4ypJUZgM0opKTinYWP4AHhwfe9j\\nFysv7mH9AgMBAAECggEABFQXn7Z6yoNfBdi9ewFDsLph8PeUNeHYajan6PIYZt62\\nsy1PJSj+rlh3wfOyzS//L9XPwoCEARD12vou/bgrS1i4dxcq9TAsZnOJ8R/wH6+I\\nw5ugYe1LxY9aCU5IxAoTPC8lsmR+bIUpXp8StSd0rJ98g7rnmzzhcXugg5vnAxjM\\nZTWHBPw8dRgqXXq2NiTqICJiezKVccs5+j/19qEJSKvnUue3QRe3BbsKvS2J/4pW\\n0a6AEB5h01mDUdYdkDP0Aa/bFcGc1z2n1rVOrU+2F4QC4PIlCa2HFGfVz2V3IFYA\\nnNikJRY++9R/GwCZgthIIPsU+/OvaXgwrVwpo7pQRQKBgQDZnIQj/GmkqYSfKQKU\\nZYa8nNwfg9+rBNeVLvJSd5F0R95wZXrb85t1u/ND1nxSQAbKrYvpSAJlslmohUAS\\npLVirtGezgMn4ew8xXeuJFKbx41Ku4tETkWVP/uMndoSvjZBMGRKPWheGxXLL4Xz\\nZfH/cvHE0y8t/f8c3t6YSCcQkwKBgQDSGzrLB20GcYzsL7uk8Yvb+lAXHe+686pB\\ng9LB0kkjpso6y57bL1G/yaQ72o712NFDe5RfbQK3L3bK8MB3NjV/B812KdiO4qkC\\n23k1Q8+mvSZWfeFwsntid+yjLRKirRun6/fIxo+jV0p7UxvShvg1S1e4OlxhTyea\\nVr3dp5WtLwKBgHihpTb1s/KN7nD0oPN2nIxuQDBQQGtjkcancbl5gu588LhJ6SOJ\\nFcLcX+xZOC24RIuSTR8SxhFuHvmmdHBhUhPUaWupNGKlgPnnVYL5q7mjk5W8BWXm\\nJfiosV+wGbWOMDFPDCmDhRm11gz+2TimaNJ8+71qfJr4VLXCbo7oYI91AoGADsHA\\n2F+2JZy2FCSqHkSk2Rd0ppsAqnXQwHc8x0Y4wttFGuoQRz7ElB7afSW1osjOsdmt\\nKyKh7THVOx27tuPE0B5BLQp1XlvHGR9HHRmdLQ3d8nc27U5r4hegNDnHNEvKRHoL\\nVjuz/Pn1jkHhE2FNb5jSGWtn76G6m1l6TmYl2hsCgYBGt54gXo3xvUcK3PLRubXI\\nesHDEb/yHd35O06xwOFyBX7fUpWa2nlKC0c5Iwf6G0iyQcClZEtyKmGf5VM9VIOp\\nbkLnihObREpPQ2cMyLpTWsdpvUtcis7+ISnvgDVKA/3hgSquwNggtEQKEvEq1S4Y\\ntT68QinqcZpTZoa4L5KAqg==\\n-----END PRIVATE KEY-----\\n',\n}\n\nconst defaultState = {\n  Name: \"\",\n  Author: \"\",\n  Description: \"\",\n  Jacket: '',\n  Genre: '',\n  SousGenre: '',\n  Statut: 'Non lu',\n  Format: '',\n  Tome: '',\n  Commentaire: '',\n  NbPages: '',\n  LentTo: '',\n  LentOn: '',\n  LentReturnOn: '',\n}\n\nconst defaultList = {\n  genres: [],\n  sousGenres: [],\n  statuts: [],\n  formats: [],\n}\n\nconst api = () => {\n\n  const doc = new GoogleSpreadsheet(config.SPREADSHEET_ID);\n\n  let initialised = false;\n  let bookSheet = null;\n  let books = null;\n  let lists = {};\n\n  const init = async () => {\n    if (!initialised) {\n      console.log(\"Initialisation de l'api\")\n      await doc.useServiceAccountAuth({\n        client_email: config.CLIENT_EMAIL,\n        private_key: config.PRIVATE_KEY,\n      })\n\n      await doc.loadInfo();\n\n      bookSheet = doc.sheetsById[config.SHEET_ID];\n      books = await bookSheet.getRows();\n      console.log('book count=' + books.length)\n\n      const sheet = doc.sheetsById[config.SHEET_LIST_ID]\n      const rows = await sheet.getRows()\n      lists = {\n        genres: rows.filter(o => o.Genre !== undefined).map(o => o.Genre),\n        sousGenres: rows.filter(o => o.SousGenre !== undefined).map(o => o.SousGenre),\n        statuts: rows.filter(o => o.Statut !== undefined).map(o => o.Statut),\n        formats: rows.filter(o => o.Format !== undefined).map(o => o.Format),\n      }\n\n      initialised = true;\n    }\n  }\n\n  const getBooks = async () => {\n    await init();\n    return books;\n  };\n\n  const getBook = async (id) => {\n    await init();\n    return books[id];\n  }\n\n  const getBookCount = async () => {\n    await init();\n    return books.length;\n  }\n\n  const saveBook = async (id, book) => {\n    await init();\n    const data = books[id]\n    for (var prop in book)\n      data[prop] = book[prop]\n    await data.save()\n  }\n\n  const addBook = async (book) => {\n    try {\n      await init();\n      const newBook = await bookSheet.addRow(book);\n      books = [...books, newBook]\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const getLists = async () => {\n    await init();\n    return lists;\n  }\n\n  return {\n    getBooks,\n    getBook,\n    getBookCount,\n    saveBook,\n    addBook,\n    getLists,\n    defaultState,\n    defaultList,\n  }\n}\n\nexport default api()\n","import { Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport api from '../api'\n\nconst Home = () => {\n  const [data, setData] = useState();\n\n  const getData = async () => {\n    const books = await api.getBooks()\n    setData(books)\n    //setData(Object.keys(data).map((key) => data[key]));\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const handleDelete = async (rowIndex) => {\n    try {\n      const res = await fetch(\n        `https://sheet.best/api/sheets/bff990d0-8ada-43e9-97eb-0ad668bb19ec/${rowIndex}`,\n        {\n          method: \"DELETE\",\n        }\n      );\n      if (res.ok) {\n        const updatedData = data.filter((_, i) => i !== rowIndex);\n        setData(updatedData);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"accordion\" id=\"accordionExample\">\n      {data?.map((item, i) => (\n        <div className=\"accordion-item\" key={i}>\n          <h2 className=\"accordion-header\" id={`heading${i}`}>\n            <button\n              className=\"accordion-button\"\n              type=\"button\"\n              data-bs-toggle=\"collapse\"\n              data-bs-target={`#collapse${i}`}\n              aria-expanded=\"true\"\n              aria-controls={`collapse${i}`}\n            >\n              <img \n                src={item.Jacket || 'https://img.freepik.com/premium-vector/book-cover-transparent-background-also-includes_270215-78.jpg?w=740'} \n                height=\"50\" width=\"30\" alt='no-pic' ></img> {item.Name} {item.Author}\n            </button>\n          </h2>\n          <div\n            id={`collapse${i}`}\n            className=\"accordion-collapse collapse\"\n            aria-labelledby={`heading${i}`}\n            data-bs-parent=\"#accordionExample\"\n          >\n            <div className=\"accordion-body\">\n              <div className=\"d-flex justify-content-between align-items-center\">\n                <span>\n                  <strong className=\"display-6\">{item.Name}</strong> ---{\" \"}\n                  {item.Author}\n                  \n                </span>\n                <span>\n                  <Link to={`/edit/${i}`} style={{ textDecoration: \"none\" }}>\n                    Edit\n                  </Link>\n                  <button\n                    className=\"btn btn-sm btn-danger ms-1\"\n                    onClick={() => handleDelete(i)}\n                  >\n                    X\n                  </button>\n                </span>\n              </div>\n              <p>{item.Description}</p>\n              <img src={item.Jacket} alt={item.name} ></img>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Home;\n","\nconst Fiche = ({ props }) => {\n  const { data, lists, handleChange } = props;\n\n  return (\n    <div>\n      {/* Name */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Name\" className=\"form-label\">\n          Titre du livre\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          name=\"Name\"\n          value={data.Name}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* Tome */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Tome\" className=\"form-label\">\n          Tome\n        </label>\n        <input\n          type=\"number\"\n          className=\"form-control\"\n          name=\"Tome\"\n          value={data.Tome || ''}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* Nb pages */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"NbPages\" className=\"form-label\">\n          Nb pages\n        </label>\n        <input\n          type=\"number\"\n          className=\"form-control\"\n          name=\"NbPages\"\n          value={data.NbPages || ''}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* Statut Lu/Non lu */}\n      <div className=\"mb-3\">\n        <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" checked={data.Statut === 'Lu'}\n            onChange={(c) => handleChange({ target: { name: 'Statut', value: data.Statut === 'Lu' ? 'Non lu' : 'Lu' } })}\n          />\n          <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\" >\n            {data.Statut}\n          </label>\n\n        </div>\n      </div>\n\n      {/* Format */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Format\" className=\"form-label\">\n          Format\n        </label>\n        <div>\n\n          {lists.formats.map(item => (\n            <div className=\"form-check form-check-inline\" key={item}>\n              <input className=\"form-check-input\" type=\"radio\"\n                name=\"Format\"\n                id={'radio-' + item}\n                value={item}\n                checked={data.Format === item}\n                onChange={handleChange} />\n              <label className=\"form-check-label\" htmlFor={'radio-' + item}>\n                {item}\n              </label>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Author */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Author\" className=\"form-label\">\n          Auteur\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          name=\"Author\"\n          value={data.Author}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* Genre */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Genre\" className=\"form-label\">\n          Genre\n        </label>\n        <select\n          type=\"text\"\n          className=\"form-select\"\n          name=\"Genre\"\n          value={data.Genre || ''}\n          onChange={handleChange}\n        >\n          <option value=\"\">-</option>\n          {lists.genres.map(item => (<option key={item} value={item}>{item}</option>))}\n        </select>\n      </div>\n\n      {/* Sous-genre */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"SousGenre\" className=\"form-label\">\n          Sous-genre\n        </label>\n        <select\n          type=\"text\"\n          className=\"form-select\"\n          name=\"SousGenre\"\n          value={data.SousGenre || ''}\n          onChange={handleChange}\n        >\n          <option value=\"\">-</option>\n          {lists.sousGenres.map(item => (<option key={item} value={item}>{item}</option>))}\n        </select>\n      </div>\n\n      {/* Description */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Description\" className=\"form-label\">\n          Résumé\n        </label>\n        <textarea\n          name=\"Description\"\n          cols=\"30\"\n          rows=\"3\"\n          className=\"form-control\"\n          value={data.Description}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* Jacket */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Jacket\" className=\"form-label\">\n          Jacket\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          name=\"Jacket\"\n          value={data.Jacket}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* Commentaire */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Commentaire\" className=\"form-label\">\n          Commentaire\n        </label>\n        <textarea\n          name=\"Commentaire\"\n          cols=\"30\"\n          rows=\"3\"\n          className=\"form-control\"\n          value={data.Commentaire || ''}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* LentAt */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"LentAt\" className=\"form-label\">\n          Prêté à\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          name=\"LentAt\"\n          value={data.LentAt || ''}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* LentOn */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"LentOn\" className=\"form-label\">\n          Prêté le\n        </label>\n        <input\n          type=\"date\"\n          className=\"form-control\"\n          name=\"LentOn\"\n          value={data.LentOn || ''}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* LentReturnOn */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"LentReturnOn\" className=\"form-label\">\n          Rendu le\n        </label>\n        <input\n          type=\"date\"\n          className=\"form-control\"\n          name=\"LentReturnOn\"\n          value={data.LentReturnOn || ''}\n          onChange={handleChange}\n        />\n      </div>\n\n    </div>\n  )\n}\n\nexport default Fiche\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport api from '../api'\nimport Fiche from '../components/Fiche'\n\nconst Add = () => {\n  const history = useHistory();\n  const [data, setData] = useState(api.defaultState);\n  const [lists, setList] = useState(api.defaultList);\n\n  useEffect(() => {\n    const getList = async () => setList(await api.getLists())\n    getList();\n  }, []);\n\n  const handleChange = (e) =>\n    setData({ ...data, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await api.addBook(data)\n    history.replace(\"/\");\n  }\n\n  return (\n    <form style={{ maxWidth: 500, margin: \"auto\" }} onSubmit={handleSubmit}>\n      <h1 className=\"text-muted text-center\">Add</h1>\n\n      <Fiche props={{data, lists, handleChange}} />\n\n      <div className=\"text-center\">\n        <button className=\"btn btn-primary\">Add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Add;\n","import { useParams, Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport api from '../api'\nimport Fiche from '../components/Fiche'\n\nconst Edit = () => {\n  const { rowIndex } = useParams();\n  const [data, setData] = useState(api.defaultState);\n  const [lists, setList] = useState(api.defaultList);\n  const [bookCount, setBookCount] = useState(0);\n\n  useEffect(() => {\n    const getData = async () => {\n      setData(await api.getBook(rowIndex))\n    };\n    const getList = async (ame) => setList(await api.getLists())\n    const getBookCount = async () => setBookCount(await api.getBookCount())\n    getData();\n    getBookCount();\n    getList();\n  }, [rowIndex]);\n\n  const handleChange = (e) =>\n    setData({ ...data, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n\n      api.saveBook(rowIndex, data)\n\n      //history.replace(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <form style={{ maxWidth: 500, margin: \"auto\" }} onSubmit={handleSubmit}>\n\n      <div className=\"row\">\n        <div className=\"col\">\n          <Link \n            to={`/edit/${parseInt(rowIndex) - 1}`}\n            className={`btn btn-primary ${rowIndex === \"0\" ? \"disabled\" : \"\"}`}>\n            &lt;&lt;\n          </Link>\n        </div>\n        <h1 className=\"col-8 text-muted text-center\">Modifier un livre</h1>\n        <div className=\"col\">\n          <Link \n            to={`/edit/${parseInt(rowIndex) + 1}`} \n            className={`btn btn-primary ${parseInt(rowIndex)+1 === bookCount ? \"disabled\" : \"\"}`}>\n            &gt;&gt;\n          </Link>\n        </div>\n      </div>\n\n      <Fiche props={{ data: data, lists: lists, handleChange }} />\n\n      <div className=\"text-center\">\n        <button className=\"btn btn-primary\">Update</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Edit;\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Add from \"./pages/Add\";\nimport Edit from \"./pages/Edit\";\n\nfunction App() {\n  return (\n    <BrowserRouter basename=\"/MaLibrairie\">\n      <Navbar />\n      <div className=\"container\">\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/add\" component={Add} />\n          <Route exact path=\"/edit/:rowIndex\" component={Edit} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}