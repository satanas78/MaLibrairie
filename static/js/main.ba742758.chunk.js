(this["webpackJsonpreact-gsheet-crud"]=this["webpackJsonpreact-gsheet-crud"]||[]).push([[0],{113:function(e,t){},229:function(e,t,n){},245:function(e,t){},247:function(e,t){},291:function(e,t){},293:function(e,t){},302:function(e,t){},304:function(e,t){},329:function(e,t){},331:function(e,t){},332:function(e,t){},337:function(e,t){},339:function(e,t){},358:function(e,t){},370:function(e,t){},373:function(e,t){},422:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(222),s=n.n(r),o=(n(229),n(24)),l=n(14),i=n(0),u=function(){return Object(i.jsx)("nav",{className:"navbar sticky-top navbar-expand-lg navbar-dark bg-dark mb-2",children:Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsx)(o.b,{className:"navbar-brand",to:"/",children:"My personal book store"}),Object(i.jsx)("div",{children:Object(i.jsx)("ul",{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:Object(i.jsx)("li",{className:"nav-item mt-1",children:Object(i.jsx)(o.b,{className:"btn btn-primary btn-sm",to:"/add",children:"Ajouter un livre"})})})})]})})},d=n(2),b=n.n(d),j=n(42),m=n(11),h=n(13),f=n(424),p=n(224),x="1xw1u6aNjRzWYsn36GScv3K8hY-KVM2RRRcvQBzGXffA",O="0",v="334842323",g="googlesheetapi@xenon-chain-365516.iam.gserviceaccount.com",N="-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCymYnhgDcsq/Py\nbE8Kz7StHSxTaVRsNhhmkpT4Gm9d0pYynEjRw+jmPGdTxvU8kcNDentLvjbydJ/g\nM3apvkvjorPy1PlXfE6lkiRRUgZHZjQwoWN7CEdgnhoAX7/nh4n0PfrEqh4kW9ok\nfzhk7ApT8cj3eLiDz/jcA/mlDo1ZwCbbWmWrO74tfTrPKmBgAuXopf/65ZUzxEJ+\nboJAWDBNnw0aDwy+S2hdJa1ksRsI1aRTWg0QiCOpdR5qrrnUSPzynDKdmukH7UNX\nMzGD6yYwJ6+P3z8MPBEDG75qlhSkSg72ar1jO4ypJUZgM0opKTinYWP4AHhwfe9j\nFysv7mH9AgMBAAECggEABFQXn7Z6yoNfBdi9ewFDsLph8PeUNeHYajan6PIYZt62\nsy1PJSj+rlh3wfOyzS//L9XPwoCEARD12vou/bgrS1i4dxcq9TAsZnOJ8R/wH6+I\nw5ugYe1LxY9aCU5IxAoTPC8lsmR+bIUpXp8StSd0rJ98g7rnmzzhcXugg5vnAxjM\nZTWHBPw8dRgqXXq2NiTqICJiezKVccs5+j/19qEJSKvnUue3QRe3BbsKvS2J/4pW\n0a6AEB5h01mDUdYdkDP0Aa/bFcGc1z2n1rVOrU+2F4QC4PIlCa2HFGfVz2V3IFYA\nnNikJRY++9R/GwCZgthIIPsU+/OvaXgwrVwpo7pQRQKBgQDZnIQj/GmkqYSfKQKU\nZYa8nNwfg9+rBNeVLvJSd5F0R95wZXrb85t1u/ND1nxSQAbKrYvpSAJlslmohUAS\npLVirtGezgMn4ew8xXeuJFKbx41Ku4tETkWVP/uMndoSvjZBMGRKPWheGxXLL4Xz\nZfH/cvHE0y8t/f8c3t6YSCcQkwKBgQDSGzrLB20GcYzsL7uk8Yvb+lAXHe+686pB\ng9LB0kkjpso6y57bL1G/yaQ72o712NFDe5RfbQK3L3bK8MB3NjV/B812KdiO4qkC\n23k1Q8+mvSZWfeFwsntid+yjLRKirRun6/fIxo+jV0p7UxvShvg1S1e4OlxhTyea\nVr3dp5WtLwKBgHihpTb1s/KN7nD0oPN2nIxuQDBQQGtjkcancbl5gu588LhJ6SOJ\nFcLcX+xZOC24RIuSTR8SxhFuHvmmdHBhUhPUaWupNGKlgPnnVYL5q7mjk5W8BWXm\nJfiosV+wGbWOMDFPDCmDhRm11gz+2TimaNJ8+71qfJr4VLXCbo7oYI91AoGADsHA\n2F+2JZy2FCSqHkSk2Rd0ppsAqnXQwHc8x0Y4wttFGuoQRz7ElB7afSW1osjOsdmt\nKyKh7THVOx27tuPE0B5BLQp1XlvHGR9HHRmdLQ3d8nc27U5r4hegNDnHNEvKRHoL\nVjuz/Pn1jkHhE2FNb5jSGWtn76G6m1l6TmYl2hsCgYBGt54gXo3xvUcK3PLRubXI\nesHDEb/yHd35O06xwOFyBX7fUpWa2nlKC0c5Iwf6G0iyQcClZEtyKmGf5VM9VIOp\nbkLnihObREpPQ2cMyLpTWsdpvUtcis7+ISnvgDVKA/3hgSquwNggtEQKEvEq1S4Y\ntT68QinqcZpTZoa4L5KAqg==\n-----END PRIVATE KEY-----\n",w={Name:"",Author:"",Description:"",Jacket:"",Genre:"",SousGenre:"",Statut:"Non lu",Format:"",Tome:"",Commentaire:"",NbPages:"",LentTo:"",LentOn:"",LentReturnOn:"",Rating:"0",EditionYear:""},k={genres:[],sousGenres:[],statuts:[],formats:[]},y=function(){var e=new p.GoogleSpreadsheet(x),t=!1,n=null,c=null,a={},r=function(){var r=Object(m.a)(b.a.mark((function r(){var s,o;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=17;break}return console.log("Initialisation de l'api"),r.next=4,e.useServiceAccountAuth({client_email:g,private_key:N});case 4:return r.next=6,e.loadInfo();case 6:return n=e.sheetsById[O],r.next=9,n.getRows();case 9:return c=r.sent,console.log("book count="+c.length),s=e.sheetsById[v],r.next=14,s.getRows();case 14:o=r.sent,a={genres:o.filter((function(e){return void 0!==e.Genre})).map((function(e){return e.Genre})),sousGenres:o.filter((function(e){return void 0!==e.SousGenre})).map((function(e){return e.SousGenre})),statuts:o.filter((function(e){return void 0!==e.Statut})).map((function(e){return e.Statut})),formats:o.filter((function(e){return void 0!==e.Format})).map((function(e){return e.Format}))},t=!0;case 17:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return{getBooks:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getBook:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",c[t]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBookCount:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",c.length);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveBook:function(){var e=Object(m.a)(b.a.mark((function e(t,n){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:for(s in a=c[t],n)a[s]=n[s];return e.next=6,a.save();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),addBook:function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r();case 3:return e.next=5,n.addRow(t);case 5:a=e.sent,c=[].concat(Object(j.a)(c),[a]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),deleteBook:function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.next=4,c[t].delete();case 4:return c.splice(t,1),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getLists:function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),defaultState:w,defaultList:k}}(),S=function(e,t){var n=Object(c.useState)((function(){return JSON.parse(sessionStorage.getItem(e))||t})),a=Object(h.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){sessionStorage.setItem(e,JSON.stringify(r))}),[e,r]),[r,s]},C=function(){var e,t,n=Object(c.useState)(),a=Object(h.a)(n,2),r=a[0],s=a[1],u=S("filter",null),d=Object(h.a)(u,2),p=d[0],x=d[1],O=S("filterGenre",null),v=Object(h.a)(O,2),g=v[0],N=v[1],w=S("filterSousGenre",null),k=Object(h.a)(w,2),C=k[0],L=k[1],A=S("displayMode","table"),B=Object(h.a)(A,2),E=B[0],G=B[1],R=Object(c.useState)(y.defaultList),D=Object(h.a)(R,2),F=D[0],I=D[1],K=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getBooks();case 2:t=e.sent,s(Object(j.a)(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,y.getLists();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();K(),e()}),[]);var P=Object(l.f)(),W=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),y.deleteBook(n),r.splice(n,1),s(Object(j.a)(r));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){return null===p||void 0===p?void 0:p.toLowerCase().trim()},T=null===r||void 0===r?void 0:r.filter((function(e){return(!p||e.Name.toLowerCase().indexOf(J())>=0||e.Author.toLowerCase().indexOf(J())>=0||e.Genre.toLowerCase().indexOf(J())>=0||e.SousGenre.toLowerCase().indexOf(J())>=0)&&(!g||e.Genre===g)&&(!C||e.SousGenre===C)}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"mb-3 border rounder bg-light col-sm-2",children:Object(i.jsxs)("div",{className:"form-check form-switch",children:[Object(i.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:"table"===E,onChange:function(e){return G(e.target.checked?"table":"list")}}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"table"===E?"Affichage condens\xe9":"Affichage en liste"})]})}),Object(i.jsxs)("div",{className:"mb-3 row",children:[Object(i.jsx)("div",{className:"col-sm-11",children:Object(i.jsx)("input",{type:"text",className:"form-control",placeholder:"rechercher: un titre, un auteur",value:p||"",onChange:function(e){return x(e.target.value)},autoFocus:!0})}),Object(i.jsx)("div",{className:"col-sm-1",children:Object(i.jsx)("span",{className:"badge rounded-pill bg-info",style:{verticalAlign:"sub"},children:"".concat(null!==(e=null===T||void 0===T?void 0:T.length)&&void 0!==e?e:0," / ").concat(null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0)})})]}),Object(i.jsxs)("table",{className:"table table-hover table-sm align-middle  border rounded bg-light ".concat("table"===E?"":"d-none"),children:[Object(i.jsxs)("colgroup",{children:[Object(i.jsx)("col",{className:"col-md-5"}),Object(i.jsx)("col",{className:"col-md-1"}),Object(i.jsx)("col",{className:"col-md-2"}),Object(i.jsx)("col",{className:"col-md-2"}),Object(i.jsx)("col",{className:"col-md-2"})]}),Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{scope:"col",children:"Titre"}),Object(i.jsx)("th",{scope:"col",children:"\xa0"}),Object(i.jsx)("th",{scope:"col",children:"Auteur"}),Object(i.jsx)("th",{scope:"col",children:Object(i.jsxs)("div",{className:"dropdown",children:[Object(i.jsxs)("div",{className:"dropdown-toggle dropdown-toggle-split",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[g?Object(i.jsx)("mark",{children:g}):"Genre","\xa0"]}),Object(i.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return N(null)},children:"\xa0"})}),F.genres.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return N(e)},children:e})},e)}))]})]})}),Object(i.jsx)("th",{scope:"col",children:Object(i.jsxs)("div",{className:"dropdown",children:[Object(i.jsxs)("div",{className:"dropdown-toggle dropdown-toggle-split",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[C?Object(i.jsx)("mark",{children:C}):"Sous genre","\xa0"]}),Object(i.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return L(null)},children:"\xa0"})}),F.sousGenres.map((function(e){return Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"dropdown-item",onClick:function(){return L(e)},children:e})},e)}))]})]})})]})}),Object(i.jsx)("tbody",{children:"table"===E&&(null===T||void 0===T?void 0:T.map((function(e,t){return Object(i.jsxs)("tr",{onClick:function(){return function(e){return P.push("/edit/".concat(e))}(e._rowNumber-2)},children:[Object(i.jsxs)("th",{scope:"row",children:[Object(i.jsx)("img",{src:e.Jacket||"https://adamshop.biz.id/wp-content/uploads/2021/08/Book.png",height:"50",width:"30",alt:"no-pic"}),"\xa0\xa0",e.Name]}),Object(i.jsx)("td",{children:e.Tome?"tome "+e.Tome:""}),Object(i.jsx)("td",{children:e.Author}),Object(i.jsx)("td",{children:e.Genre}),Object(i.jsx)("td",{children:Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("div",{children:e.SousGenre||"-"}),Object(i.jsx)("div",{style:{position:"absolute",bottom:0,right:0},children:Object(i.jsx)(f.a,{color:"gray",size:16,className:"delete-icon",onClick:function(t){return W(t,e._rowNumber-2)}})})]})})]},t)})))})]}),Object(i.jsx)("div",{className:"accordion ".concat("table"===E?"d-none":""),id:"accordionExample",children:"table"!==E&&(null===T||void 0===T?void 0:T.map((function(e,t){return Object(i.jsxs)("div",{className:"accordion-item",children:[Object(i.jsx)("h2",{className:"accordion-header",id:"heading".concat(t),children:Object(i.jsxs)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse".concat(t),"aria-expanded":"true","aria-controls":"collapse".concat(t),children:[Object(i.jsx)("img",{src:e.Jacket||"https://adamshop.biz.id/wp-content/uploads/2021/08/Book.png",height:"50",width:"30",alt:"no-pic"})," ",e.Name," ",e.Author]})}),Object(i.jsx)("div",{id:"collapse".concat(t),className:"accordion-collapse collapse","aria-labelledby":"heading".concat(t),"data-bs-parent":"#accordionExample",children:Object(i.jsxs)("div",{className:"accordion-body",children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(i.jsxs)("span",{children:[Object(i.jsx)("strong",{className:"display-6",children:e.Name})," ---"," ",e.Author]}),Object(i.jsxs)("span",{children:[Object(i.jsx)(o.b,{to:"/edit/".concat(t),style:{textDecoration:"none"},children:"Edit"}),Object(i.jsx)("button",{className:"btn btn-sm btn-danger ms-1",onClick:function(){return W(t)},children:"X"})]})]}),Object(i.jsx)("p",{children:e.Description}),Object(i.jsx)("img",{src:e.Jacket,alt:e.name})]})})]},t)})))}),0===(null===T||void 0===T?void 0:T.length)?Object(i.jsx)("h4",{className:"col-12 text-muted text-center",children:"Aucun livre ne corresponds \xe0 votre recherche"}):"",Object(i.jsx)("div",{children:"\xa0"})]})},L=n(52),A=n(53),B=function(e){var t=e.value,n=e.onChange,a=Object(c.useState)(0),r=Object(h.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(0),u=Object(h.a)(l,2),d=u[0],b=u[1],m=Object(c.useState)(!1),f=Object(h.a)(m,2),p=f[0],x=f[1];return Object(c.useEffect)((function(){o(t)}),[t]),Object(i.jsxs)("div",{className:"star-rating",children:[Object(j.a)(Array(5)).map((function(e,t){return t+=1,Object(i.jsx)("button",{type:"button",className:"starButton  ".concat(t<=(d||s)?"on":"off"),onClick:function(){return n(t)},onMouseEnter:function(){return b(t)},onMouseLeave:function(){return b(s)},children:Object(i.jsx)("span",{className:"star",children:"\u2605"})},t)})),Object(i.jsx)("button",{type:"button",className:"clearButton ".concat(p?"on":"off"),onMouseEnter:function(){return x(!0)},onClick:function(){return n(0)},onMouseLeave:function(){return x(!1)},children:"x"})]})},E=function(e){var t=e.label,n=e.value,c=e.className,a=e.labelWidth,r=e.valueWidth,s=e.autofocus,o=void 0!==s&&s,l=e.onChange;return Object(i.jsxs)("div",{className:"".concat(c),children:[Object(i.jsx)("label",{htmlFor:"Name",className:"col-sm-".concat(null!==a&&void 0!==a?a:12," col-form-label"),children:t}),Object(i.jsx)("div",{className:"col-sm-".concat(null!==r&&void 0!==r?r:12),children:Object(i.jsx)("input",{type:"text",className:"form-control",name:"Name",value:n,onChange:function(e){return l(e.target.value)},autoFocus:o})})]})},G=function(e){var t=e.label,n=e.value,c=e.className,a=e.labelWidth,r=e.valueWidth,s=e.list,o=e.onChange;return Object(i.jsxs)("div",{className:"".concat(c),children:[Object(i.jsx)("label",{htmlFor:"Name",className:"col-sm-".concat(null!==a&&void 0!==a?a:12," col-form-label"),children:t}),Object(i.jsx)("div",{className:"col-sm-".concat(null!==r&&void 0!==r?r:12),children:Object(i.jsxs)("select",{type:"text",className:"form-select",name:"Name",value:n||"",onChange:function(e){return o(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"-"}),s.map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)}))]})})]})},R=function(e){var t=e.label,n=e.value,c=e.className,a=e.labelWidth,r=e.valueWidth,s=e.list,o=e.onChange;return Object(i.jsxs)("div",{className:"".concat(c),children:[Object(i.jsx)("label",{htmlFor:"Name",className:"col-sm-".concat(null!==a&&void 0!==a?a:12," col-form-label"),children:t}),Object(i.jsx)("div",{className:"col-sm-".concat(null!==r&&void 0!==r?r:12),style:{paddingTop:10},children:s.map((function(e){return Object(i.jsxs)("div",{className:"form-control-check form-check form-check-inline",children:[Object(i.jsx)("input",{className:"form-check-input",type:"radio",name:"Format",id:"radio-"+e,value:e,checked:n===e,onChange:function(e){return o(e.target.value)}}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"radio-"+e,children:e})]},e)}))})]})},D=function(e){var t=e.props,n=t.data,c=t.lists,a=t.handleChange;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsx)("div",{className:"col-sm-1"}),Object(i.jsxs)("div",{className:"col-sm-3",children:[Object(i.jsx)("input",{type:"text",className:"form-control",name:"Jacket",value:n.Jacket,onChange:a,placeholder:"Jacket"}),Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)("img",{src:n.Jacket||"https://adamshop.biz.id/wp-content/uploads/2021/08/Book.png",alt:"-",className:"img-fluid mb-2",width:"100%"}),Object(i.jsx)("div",{className:"bg-ligh d-none",style:{position:"absolute",top:5},children:n.Name})]}),Object(i.jsxs)("div",{className:"row mb-3 border rounded bg-light mx-1",children:[Object(i.jsx)("div",{className:"col-6",style:{marginTop:"0.5em"},children:Object(i.jsxs)("div",{className:"form-check form-switch",children:[Object(i.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:"Lu"===n.Statut,onChange:function(e){return a({target:{name:"Statut",value:"Lu"===n.Statut?"Non lu":"Lu"}})}}),Object(i.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:n.Statut})]})}),Object(i.jsx)("div",{className:"col-6",children:Object(i.jsx)(B,{name:"Rating",value:parseInt(n.Rating||"0"),onChange:function(e){return a({target:{name:"Rating",value:e}})}},"rating-".concat(n.Rating))})]})]}),Object(i.jsxs)("div",{className:"col-sm-7 ",children:[Object(i.jsxs)("div",{className:"border rounded bg-light p-4",children:[Object(i.jsx)(E,{className:"mb-3 col-12",label:"Titre",value:n.Name,autofocus:!0,onChange:function(e){return a({target:{name:"Name",value:e}})}}),Object(i.jsx)(E,{className:"mb-3 col-sm-12",label:"Auteur",value:n.Author,onChange:function(e){return a({target:{name:"Author",value:e}})}}),Object(i.jsx)(G,{className:"mb-3 col-sm-12",label:"Genre",value:n.Genre,list:c.genres,onChange:function(e){return a({target:{name:"Genre",value:e}})}}),Object(i.jsx)(G,{className:"mb-3 col-sm-12",label:"Sous-genre",value:n.SousGenre,list:c.sousGenres,onChange:function(e){return a({target:{name:"SousGenre",value:e}})}}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)(E,{className:"mb-3 col-sm-4",valueWidth:"12",label:"Tome",value:n.Tome,onChange:function(e){return a({target:{name:"Tome",value:e}})}}),Object(i.jsx)(E,{className:"mb-3 col-sm-4",labelWidth:"4",valueWidth:"12",label:"pages",value:n.NbPages,onChange:function(e){return a({target:{name:"NbPages",value:e}})}})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)(E,{className:"mb-3 col-sm-4",labelWidth:"4",valueWidth:"12",label:"Edition",value:n.EditionYear,onChange:function(e){return a({target:{name:"EditionYear",value:e}})}}),Object(i.jsx)(R,{className:"mb-3 col-sm-8",labelWidth:"4",valueWidth:"12",label:"Format",value:n.Format,list:c.formats,onChange:function(e){return a({target:{name:"Format",value:e}})}})]})]})," "]})]}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-sm-1"}),Object(i.jsxs)("div",{className:"col-sm-10 row mb-3 border rounded bg-light",children:[Object(i.jsxs)("div",{className:"col-sm-6 mb-3",children:[Object(i.jsx)("label",{htmlFor:"Description",className:"form-label",children:"R\xe9sum\xe9"}),Object(i.jsx)("textarea",{name:"Description",cols:"30",rows:"5",className:"form-control",value:n.Description,onChange:a})]}),Object(i.jsxs)("div",{className:"col-sm-6 mb-3",children:[Object(i.jsx)("label",{htmlFor:"Commentaire",className:"form-label",children:"Commentaire"}),Object(i.jsx)("textarea",{name:"Commentaire",cols:"30",rows:"5",className:"form-control",value:n.Commentaire||"",onChange:a})]})]}),Object(i.jsx)("div",{className:"col-sm-1"})]}),Object(i.jsxs)("div",{className:"row mb-3",children:[Object(i.jsx)("div",{className:"col-sm-1"}),Object(i.jsxs)("div",{className:"col-sm-10 row mb-3 border rounded bg-light",children:[Object(i.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(i.jsx)("label",{htmlFor:"LentAt",className:"form-label",children:"Pr\xeat\xe9 \xe0"}),Object(i.jsx)("input",{type:"text",className:"form-control",name:"LentAt",value:n.LentAt||"",onChange:a})]}),Object(i.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(i.jsx)("label",{htmlFor:"LentOn",className:"form-label",children:"Pr\xeat\xe9 le"}),Object(i.jsx)("input",{type:"date",className:"form-control",name:"LentOn",value:n.LentOn||"",onChange:a})]}),Object(i.jsxs)("div",{className:"mb-3 col-sm-4",children:[Object(i.jsx)("label",{htmlFor:"LentReturnOn",className:"form-label",children:"Rendu le"}),Object(i.jsx)("input",{type:"date",className:"form-control",name:"LentReturnOn",value:n.LentReturnOn||"",onChange:a})]})]}),Object(i.jsx)("div",{className:"col-sm-1"})]}),Object(i.jsx)("div",{className:"mb-3",children:"\xa0"})]})},F=function(){var e=Object(l.f)(),t=Object(c.useState)(y.defaultState),n=Object(h.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(y.defaultList),o=Object(h.a)(s,2),u=o[0],d=o[1],j=Object(c.useState)(!1),f=Object(h.a)(j,2),p=f[0],x=f[1],O=Object(c.useCallback)(function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ctrlKey||"s"!==n.key){t.next=7;break}return n.preventDefault(),x(!0),t.next=5,y.addBook(a);case 5:x(!1),e.replace("/");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[a,e]);Object(c.useEffect)((function(){return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}}),[O]),Object(c.useEffect)((function(){(function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,y.getLists();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,y.addBook(a);case 3:e.replace("/");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("form",{style:{margin:"auto"},onSubmit:v,children:[Object(i.jsx)(D,{props:{data:a,lists:u,handleChange:function(e){return r(Object(A.a)(Object(A.a)({},a),{},Object(L.a)({},e.target.name,e.target.value)))}}}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("p",{children:"pied de page"})}),p?Object(i.jsx)("div",{className:"bg-dark-transparent loading-panel"}):Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"text-center fixed-bottom row",children:Object(i.jsx)("button",{className:"btn btn-primary col align-self-end",children:"Enregistrer"})})})]})},I=function(){var e=Object(l.g)().rowIndex,t=Object(c.useState)(y.defaultState),n=Object(h.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(y.defaultList),u=Object(h.a)(s,2),d=u[0],j=u[1],f=Object(c.useState)(0),p=Object(h.a)(f,2),x=p[0],O=p[1],v=Object(c.useState)(!1),g=Object(h.a)(v,2),N=g[0],w=g[1],k=Object(c.useCallback)(function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.ctrlKey||"s"!==n.key){t.next=6;break}return n.preventDefault(),w(!0),t.next=5,y.saveBook(e,a);case 5:w(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[a,e]);Object(c.useEffect)((function(){var t=function(){var t=Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,y.getBook(e);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j,e.next=3,y.getLists();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=O,e.next=3,y.getBookCount();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),c(),n()}),[e]),Object(c.useEffect)((function(){return document.addEventListener("keydown",k),function(){document.removeEventListener("keydown",k)}}),[k]);var S=function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w(!0),t.next=3,y.saveBook(e,a);case 3:w(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("div",{style:{margin:"auto",position:"relative"},children:[Object(i.jsx)(D,{props:{data:a,lists:d,handleChange:function(e){return r(Object(A.a)(Object(A.a)({},a),{},Object(L.a)({},e.target.name,e.target.value)))}}}),Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("p",{children:"pied de page"})}),N?Object(i.jsx)("div",{className:"bg-dark-transparent loading-panel"}):Object(i.jsxs)("div",{className:"row fixed-bottom bg-light p-3",children:[Object(i.jsx)("div",{className:"col",children:Object(i.jsx)(o.b,{to:"/edit/".concat(parseInt(e)-1),className:"btn btn-primary ".concat("0"===e?"disabled":""),children:"<<"})}),Object(i.jsx)("div",{className:"col text-center",children:Object(i.jsx)("button",{className:"float-center btn btn-primary",onClick:S,children:"Enregistrer"})}),Object(i.jsx)("div",{className:"col",children:Object(i.jsx)(o.b,{to:"/edit/".concat(parseInt(e)+1),className:"float-end btn btn-primary ".concat(parseInt(e)+1===x?"disabled":""),children:">>"})})]})]})};var K=function(){return Object(i.jsxs)(o.a,{basename:"/MaLibrairie",children:[Object(i.jsx)(u,{}),Object(i.jsx)("div",{className:"container-fluid",children:Object(i.jsxs)(l.c,{children:[Object(i.jsx)(l.a,{exact:!0,path:"/",component:C}),Object(i.jsx)(l.a,{exact:!0,path:"/add",component:F}),Object(i.jsx)(l.a,{exact:!0,path:"/edit/:rowIndex",component:I})]})})]})};s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(K,{})}),document.getElementById("root"))}},[[422,1,2]]]);
//# sourceMappingURL=main.ba742758.chunk.js.map