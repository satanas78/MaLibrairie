{"version":3,"sources":["components/Navbar.js","api.js","utils/usePersistedState.js","pages/Home.js","components/Fiche.js","pages/Add.js","pages/Edit.js","App.js","index.js"],"names":["Navbar","className","to","config","defaultState","Name","Author","Description","Jacket","Genre","SousGenre","Statut","Format","Tome","Commentaire","NbPages","LentTo","LentOn","LentReturnOn","Rating","defaultList","genres","sousGenres","statuts","formats","api","doc","GoogleSpreadsheet","initialised","bookSheet","books","lists","init","a","console","log","useServiceAccountAuth","client_email","private_key","loadInfo","sheetsById","getRows","length","sheet","rows","filter","o","undefined","map","getBooks","getBook","id","getBookCount","saveBook","book","prop","data","save","addBook","addRow","newBook","getLists","usePersistedState","key","defaultValue","useState","JSON","parse","sessionStorage","getItem","state","setState","useEffect","setItem","stringify","Home","setData","setFilter","filterGenre","setFilterGenre","filterSousGenre","setFilterSousGenre","displayMode","setDisplayMode","setList","getData","getList","ame","history","useHistory","handleDelete","rowIndex","fetch","method","ok","updatedData","_","i","getFilter","toLowerCase","trim","displayList","item","indexOf","type","checked","onChange","e","target","htmlFor","placeholder","value","autoFocus","scope","data-bs-toggle","aria-expanded","aria-labelledby","onClick","push","handleClick","_rowNumber","src","height","width","alt","data-bs-target","aria-controls","data-bs-parent","style","textDecoration","name","StarRating","rating","setRating","hover","setHover","Array","star","index","onMouseEnter","onMouseLeave","Fiche","props","handleChange","class","EditionYear","parseInt","c","cols","LentAt","Add","handleSubmit","preventDefault","replace","margin","onSubmit","Edit","useParams","bookCount","setBookCount","error","App","basename","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2799ed5f.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst Navbar = () => {\n  return (\n    <nav className=\"navbar sticky-top navbar-expand-lg navbar-dark bg-dark mb-2\">\n      <div className=\"container-fluid\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          Ma bibliothèque\n        </Link>\n        <div>\n          <ul className=\"navbar-nav ms-auto mb-2 mb-lg-0\">\n            <li className=\"nav-item mt-1\">\n              <Link className=\"btn btn-primary btn-sm\" to=\"/add\">\n                Ajouter un livre\n              </Link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import { GoogleSpreadsheet } from \"google-spreadsheet\";\n\nconst config = {\n  SPREADSHEET_ID: '1xw1u6aNjRzWYsn36GScv3K8hY-KVM2RRRcvQBzGXffA',\n  SHEET_ID: '0',\n  SHEET_LIST_ID: '334842323',\n  CLIENT_EMAIL: 'googlesheetapi@xenon-chain-365516.iam.gserviceaccount.com',\n  PRIVATE_KEY: '-----BEGIN PRIVATE KEY-----\\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCymYnhgDcsq/Py\\nbE8Kz7StHSxTaVRsNhhmkpT4Gm9d0pYynEjRw+jmPGdTxvU8kcNDentLvjbydJ/g\\nM3apvkvjorPy1PlXfE6lkiRRUgZHZjQwoWN7CEdgnhoAX7/nh4n0PfrEqh4kW9ok\\nfzhk7ApT8cj3eLiDz/jcA/mlDo1ZwCbbWmWrO74tfTrPKmBgAuXopf/65ZUzxEJ+\\nboJAWDBNnw0aDwy+S2hdJa1ksRsI1aRTWg0QiCOpdR5qrrnUSPzynDKdmukH7UNX\\nMzGD6yYwJ6+P3z8MPBEDG75qlhSkSg72ar1jO4ypJUZgM0opKTinYWP4AHhwfe9j\\nFysv7mH9AgMBAAECggEABFQXn7Z6yoNfBdi9ewFDsLph8PeUNeHYajan6PIYZt62\\nsy1PJSj+rlh3wfOyzS//L9XPwoCEARD12vou/bgrS1i4dxcq9TAsZnOJ8R/wH6+I\\nw5ugYe1LxY9aCU5IxAoTPC8lsmR+bIUpXp8StSd0rJ98g7rnmzzhcXugg5vnAxjM\\nZTWHBPw8dRgqXXq2NiTqICJiezKVccs5+j/19qEJSKvnUue3QRe3BbsKvS2J/4pW\\n0a6AEB5h01mDUdYdkDP0Aa/bFcGc1z2n1rVOrU+2F4QC4PIlCa2HFGfVz2V3IFYA\\nnNikJRY++9R/GwCZgthIIPsU+/OvaXgwrVwpo7pQRQKBgQDZnIQj/GmkqYSfKQKU\\nZYa8nNwfg9+rBNeVLvJSd5F0R95wZXrb85t1u/ND1nxSQAbKrYvpSAJlslmohUAS\\npLVirtGezgMn4ew8xXeuJFKbx41Ku4tETkWVP/uMndoSvjZBMGRKPWheGxXLL4Xz\\nZfH/cvHE0y8t/f8c3t6YSCcQkwKBgQDSGzrLB20GcYzsL7uk8Yvb+lAXHe+686pB\\ng9LB0kkjpso6y57bL1G/yaQ72o712NFDe5RfbQK3L3bK8MB3NjV/B812KdiO4qkC\\n23k1Q8+mvSZWfeFwsntid+yjLRKirRun6/fIxo+jV0p7UxvShvg1S1e4OlxhTyea\\nVr3dp5WtLwKBgHihpTb1s/KN7nD0oPN2nIxuQDBQQGtjkcancbl5gu588LhJ6SOJ\\nFcLcX+xZOC24RIuSTR8SxhFuHvmmdHBhUhPUaWupNGKlgPnnVYL5q7mjk5W8BWXm\\nJfiosV+wGbWOMDFPDCmDhRm11gz+2TimaNJ8+71qfJr4VLXCbo7oYI91AoGADsHA\\n2F+2JZy2FCSqHkSk2Rd0ppsAqnXQwHc8x0Y4wttFGuoQRz7ElB7afSW1osjOsdmt\\nKyKh7THVOx27tuPE0B5BLQp1XlvHGR9HHRmdLQ3d8nc27U5r4hegNDnHNEvKRHoL\\nVjuz/Pn1jkHhE2FNb5jSGWtn76G6m1l6TmYl2hsCgYBGt54gXo3xvUcK3PLRubXI\\nesHDEb/yHd35O06xwOFyBX7fUpWa2nlKC0c5Iwf6G0iyQcClZEtyKmGf5VM9VIOp\\nbkLnihObREpPQ2cMyLpTWsdpvUtcis7+ISnvgDVKA/3hgSquwNggtEQKEvEq1S4Y\\ntT68QinqcZpTZoa4L5KAqg==\\n-----END PRIVATE KEY-----\\n',\n}\n\nconst defaultState = {\n  Name: \"\",\n  Author: \"\",\n  Description: \"\",\n  Jacket: '',\n  Genre: '',\n  SousGenre: '',\n  Statut: 'Non lu',\n  Format: '',\n  Tome: '',\n  Commentaire: '',\n  NbPages: '',\n  LentTo: '',\n  LentOn: '',\n  LentReturnOn: '',\n  Rating: '0',\n}\n\nconst defaultList = {\n  genres: [],\n  sousGenres: [],\n  statuts: [],\n  formats: [],\n}\n\nconst api = () => {\n\n  const doc = new GoogleSpreadsheet(config.SPREADSHEET_ID);\n\n  let initialised = false;\n  let bookSheet = null;\n  let books = null;\n  let lists = {};\n\n  const init = async () => {\n    if (!initialised) {\n      console.log(\"Initialisation de l'api\")\n      await doc.useServiceAccountAuth({\n        client_email: config.CLIENT_EMAIL,\n        private_key: config.PRIVATE_KEY,\n      })\n\n      await doc.loadInfo();\n\n      bookSheet = doc.sheetsById[config.SHEET_ID];\n      books = await bookSheet.getRows();\n      console.log('book count=' + books.length)\n\n      const sheet = doc.sheetsById[config.SHEET_LIST_ID]\n      const rows = await sheet.getRows()\n      lists = {\n        genres: rows.filter(o => o.Genre !== undefined).map(o => o.Genre),\n        sousGenres: rows.filter(o => o.SousGenre !== undefined).map(o => o.SousGenre),\n        statuts: rows.filter(o => o.Statut !== undefined).map(o => o.Statut),\n        formats: rows.filter(o => o.Format !== undefined).map(o => o.Format),\n      }\n\n      initialised = true;\n    }\n  }\n\n  const getBooks = async () => {\n    await init();\n    return books;\n  };\n\n  const getBook = async (id) => {\n    await init();\n    return books[id];\n  }\n\n  const getBookCount = async () => {\n    await init();\n    return books.length;\n  }\n\n  const saveBook = async (id, book) => {\n    await init();\n    const data = books[id]\n    for (var prop in book)\n      data[prop] = book[prop]\n    await data.save()\n  }\n\n  const addBook = async (book) => {\n    try {\n      await init();\n      const newBook = await bookSheet.addRow(book);\n      books = [...books, newBook]\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const getLists = async () => {\n    await init();\n    return lists;\n  }\n\n  return {\n    getBooks,\n    getBook,\n    getBookCount,\n    saveBook,\n    addBook,\n    getLists,\n    defaultState,\n    defaultList,\n  }\n}\n\nexport default api()\n","import { useState, useEffect } from 'react'\n\nconst usePersistedState = (key, defaultValue) => {\n  const [state, setState] = useState(\n    () => JSON.parse(sessionStorage.getItem(key)) || defaultValue\n  )\n\n  useEffect(() => {\n    sessionStorage.setItem(key, JSON.stringify(state))\n  }, [key, state])\n\n  return [state, setState]\n}\n\nexport { usePersistedState }\n","import { Link, useHistory } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport api from '../api'\nimport { usePersistedState } from \"../utils/usePersistedState\";\n\nconst Home = () => {\n  const [data, setData] = useState();\n  const [filter, setFilter] = usePersistedState('filter', null);\n  const [filterGenre, setFilterGenre] = usePersistedState('filterGenre', null);\n  const [filterSousGenre, setFilterSousGenre] = usePersistedState('filterSousGenre', null);\n  const [displayMode, setDisplayMode] = usePersistedState('displayMode', 'table')\n  const [lists, setList] = useState(api.defaultList);\n\n  const getData = async () => {\n    const books = await api.getBooks()\n    setData(books)\n    //setData(Object.keys(data).map((key) => data[key]));\n  };\n\n  useEffect(() => {\n    const getList = async (ame) => setList(await api.getLists())\n    getData();\n    getList();\n  }, []);\n\n  const history = useHistory()\n\n  const handleDelete = async (rowIndex) => {\n    try {\n      const res = await fetch(\n        `https://sheet.best/api/sheets/bff990d0-8ada-43e9-97eb-0ad668bb19ec/${rowIndex}`,\n        {\n          method: \"DELETE\",\n        }\n      );\n      if (res.ok) {\n        const updatedData = data.filter((_, i) => i !== rowIndex);\n        setData(updatedData);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleFilter = (e) => setFilter(e.target.value)\n  const handleClick = (i) => history.push(`/edit/${i}`)\n  const handleGenreFilter = (o) => setFilterGenre(o)\n  const handleSousGenreFilter = (o) => setFilterSousGenre(o)\n\n  const getFilter = () => filter?.toLowerCase().trim()\n\n  const displayList = data?.filter((item) =>\n    (!filter\n    || item.Name.toLowerCase().indexOf(getFilter()) >= 0\n    || item.Author.toLowerCase().indexOf(getFilter()) >= 0\n    || item.Genre.toLowerCase().indexOf(getFilter()) >= 0\n    || item.SousGenre.toLowerCase().indexOf(getFilter()) >= 0)\n    && (!filterGenre || item.Genre === filterGenre)\n    && (!filterSousGenre || item.SousGenre === filterSousGenre))\n\n  return (\n    <div>\n\n      {/* mode d'affichage */}\n      <div className=\"mb-3\">\n        <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" checked={displayMode === 'table'}\n            onChange={(e) => setDisplayMode(e.target.checked ? 'table' : 'list')}\n          />\n          <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\" >\n            {displayMode === 'table' ? \"Affichage condensé\" : \"Affichage en liste\"}\n          </label>\n\n        </div>\n      </div>\n\n      {/* Recherche*/}\n      <div className=\"mb-3\">\n        <input type=\"text\" className=\"form-control\" placeholder=\"rechercher: un titre, un auteur\" value={filter || ''} onChange={handleFilter} autoFocus />\n      </div>\n\n      {/* Mode table */}\n      <table className={`table table-hover table-sm align-middle ${displayMode === 'table' ? '' : 'd-none'}`}>\n        <colgroup>\n            <col className=\"col-md-5\" />\n            <col className=\"col-md-1\" />\n            <col className=\"col-md-2\" />\n            <col className=\"col-md-2\" />\n            <col className=\"col-md-2\" />\n        </colgroup>\n        <thead>\n          <tr>\n            <th scope=\"col\">Titre</th>\n            <th scope=\"col\">&nbsp;</th>\n            <th scope=\"col\">Auteur</th>\n            <th scope=\"col\">\n              <div className=\"dropdown\">\n                <div className=\"dropdown-toggle dropdown-toggle-split\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                  {filterGenre ? <mark>{filterGenre}</mark> : 'Genre'}\n                  &nbsp;\n                </div>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                  <li><button className=\"dropdown-item\" onClick={() => setFilterGenre(null)}>&nbsp;</button></li>\n                  {lists.genres.map(item => (\n                    <li key={item}>\n                      <button className=\"dropdown-item\" onClick={() => handleGenreFilter(item)}>{item}</button>\n                    </li>))}\n                </ul>\n              </div>\n            </th>\n            <th scope=\"col\">\n            <div className=\"dropdown\">\n                <div className=\"dropdown-toggle dropdown-toggle-split\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                {filterSousGenre ? <mark>{filterSousGenre}</mark> : 'Sous genre'}\n                  &nbsp;\n                </div>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                  <li><button className=\"dropdown-item\" onClick={() => setFilterSousGenre(null)}>&nbsp;</button></li>\n                  {lists.sousGenres.map(item => (\n                    <li key={item}>\n                      <button className=\"dropdown-item\" onClick={() => handleSousGenreFilter(item)}>{item}</button>\n                    </li>))}\n                </ul>\n              </div>\n\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {displayMode === 'table' && displayList?.map((item, i) => (\n            <tr key={i} onClick={() => handleClick(item._rowNumber - 2)}>\n              <th scope=\"row\">\n              <img\n                  src={item.Jacket || 'logo192.png'}\n                  height=\"50\" width=\"30\" alt='no-pic' ></img>\n                &nbsp;&nbsp;\n                {item.Name}\n                </th>\n              <td>{item.Tome ? ('tome ' + item.Tome) : ('')}</td>\n              <td>{item.Author}</td>\n              <td>{item.Genre}</td>\n              <td>{item.SousGenre}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {/* mode Liste */}\n      <div className={`accordion ${displayMode === 'table' ? 'd-none' : ''}`} id=\"accordionExample\">\n        {displayMode !== 'table' && displayList?.map((item, i) => (\n          <div className=\"accordion-item\" key={i}>\n            <h2 className=\"accordion-header\" id={`heading${i}`}>\n              <button\n                className=\"accordion-button\"\n                type=\"button\"\n                data-bs-toggle=\"collapse\"\n                data-bs-target={`#collapse${i}`}\n                aria-expanded=\"true\"\n                aria-controls={`collapse${i}`}\n              >\n                <img\n                  src={item.Jacket || 'https://img.freepik.com/premium-vector/book-cover-transparent-background-also-includes_270215-78.jpg?w=740'}\n                  height=\"50\" width=\"30\" alt='no-pic' ></img> {item.Name} {item.Author}\n              </button>\n            </h2>\n            <div\n              id={`collapse${i}`}\n              className=\"accordion-collapse collapse\"\n              aria-labelledby={`heading${i}`}\n              data-bs-parent=\"#accordionExample\"\n            >\n              <div className=\"accordion-body\">\n                <div className=\"d-flex justify-content-between align-items-center\">\n                  <span>\n                    <strong className=\"display-6\">{item.Name}</strong> ---{\" \"}\n                    {item.Author}\n\n                  </span>\n                  <span>\n                    <Link to={`/edit/${i}`} style={{ textDecoration: \"none\" }}>\n                      Edit\n                    </Link>\n                    <button\n                      className=\"btn btn-sm btn-danger ms-1\"\n                      onClick={() => handleDelete(i)}\n                    >\n                      X\n                    </button>\n                  </span>\n                </div>\n                <p>{item.Description}</p>\n                <img src={item.Jacket} alt={item.name} ></img>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/** message aucun livre */}\n      {(displayList?.length === 0)\n        ? (<h4 className=\"col-12 text-muted text-center\">Aucun livre ne corresponds à votre recherche</h4>)\n        : ('')}\n\n    </div>\n  );\n};\n\nexport default Home;\n","import { useState, useEffect } from 'react'\n\nconst StarRating = ({ value, onChange }) => {\n  const [rating, setRating] = useState(0)\n  const [hover, setHover] = useState(0);\n\n  useEffect(() => {\n    setRating(value);\n  }, [value])\n\n  return (\n    <div className=\"star-rating\">\n      {[...Array(5)].map((star, index) => {\n        index += 1;\n        return (\n          <button\n            type=\"button\"\n            key={index}\n            className={`starButton  ${index <= (hover || rating) ? \"on\" : \"off\"}`}\n            onClick={() => onChange(index)}\n            onMouseEnter={() => setHover(index)}\n            onMouseLeave={() => setHover(rating)}\n          >\n            <span className=\"star\">&#9733;</span>\n          </button>\n        );\n      })}\n    </div>\n  );\n};\n\nconst Fiche = ({ props }) => {\n  const { data, lists, handleChange } = props;\n\n  return (\n    <div>\n\n      <div class=\"row\">\n\n        <div class=\"col-sm-3\">\n          <img src={data.Jacket} alt='-' class=\"img-fluid\" width=\"100%\" />\n        </div>\n\n        <div class=\"col-sm-9\">\n        <div class=\"row\">\n        {/* Name */}\n        <div className=\"mb-3 col-6\">\n          <div class=\"row\">\n            <label htmlFor=\"Name\" className=\"col-sm-3 col-form-label\">\n              Titre du livre\n            </label>\n            <div class=\"col-sm-9\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"Name\"\n                value={data.Name}\n                onChange={handleChange}\n                autoFocus\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Tome */}\n        <div className=\"mb-3 col-1\">\n          <div class=\"row\">\n            <label htmlFor=\"Tome\" className=\"col-sm-5 col-form-label\">\n              Tome\n            </label>\n            <div class=\"col-sm-7\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"Tome\"\n                value={data.Tome || ''}\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Author */}\n        <div className=\"mb-3 col-5\">\n          <div class=\"row\">\n            <label htmlFor=\"Author\" className=\"col-sm-2 col-form-label\">\n              Auteur\n            </label>\n            <div class=\"col-sm-10\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name=\"Author\"\n                value={data.Author}\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n        </div>\n\n      </div>\n\n\n      <div class=\"row mb-3\">\n        <div class=\"col-6\">\n          <div class=\"row\">\n\n            {/* EditionYear */}\n            <div class=\"col-3\">\n              <label htmlFor=\"EditionYear\" className=\"col-form-label\">\n                Année d'édition\n              </label>\n            </div>\n            <div class=\"col-3\">\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                name=\"EditionYear\"\n                value={data.EditionYear || ''}\n                onChange={handleChange}\n              />\n            </div>\n\n            {/* Nb pages */}\n            <div class=\"col-3\">\n              <label htmlFor=\"NbPages\" className=\"col-form-label\">\n                Nb pages\n              </label>\n            </div>\n            <div class=\"col-3\">\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                name=\"NbPages\"\n                value={data.NbPages || ''}\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"row\">\n\n            {/* Appréciation */}\n            <div class=\"col-3\">\n              <label htmlFor=\"Rating\" className=\"col-form-label\">\n                Appréciation\n              </label>\n            </div>\n            <div class=\"col-9\">\n              <StarRating\n                name=\"Rating\"\n                key={`rating-${data.Rating}`}\n                value={parseInt(data.Rating || '0')}\n                onChange={(value) => handleChange({ target: { name: 'Rating', value } })} />\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Genre / Sous-genre */}\n      <div class=\"row mb-3 \">\n        {/* Genre */}\n        <div className=\"col-6\">\n          <div class=\"row\">\n            <label htmlFor=\"Genre\" className=\"col-sm-3 col-form-label\">\n              Genre\n            </label>\n            <div class=\"col-sm-9\">\n              <select\n                type=\"text\"\n                className=\"form-select\"\n                name=\"Genre\"\n                value={data.Genre || ''}\n                onChange={handleChange}\n              >\n                <option value=\"\">-</option>\n                {lists.genres.map(item => (<option key={item} value={item}>{item}</option>))}\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Sous-genre */}\n        <div className=\"col-6\">\n          <div class=\"row\">\n          <label htmlFor=\"SousGenre\" className=\"col-sm-3 col-form-label\">\n            Sous-genre\n          </label>\n          <div class=\"col-sm-9\">\n          <select\n            type=\"text\"\n            className=\"form-select\"\n            name=\"SousGenre\"\n            value={data.SousGenre || ''}\n            onChange={handleChange}\n          >\n            <option value=\"\">-</option>\n            {lists.sousGenres.map(item => (<option key={item} value={item}>{item}</option>))}\n          </select>\n          </div>\n          </div>\n        </div>\n\n      </div>\n\n\n\n      {/* Statut Lu/Non lu */}\n      <div className=\"mb-3\">\n        <div className=\"form-check form-switch\">\n          <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\" checked={data.Statut === 'Lu'}\n            onChange={(c) => handleChange({ target: { name: 'Statut', value: data.Statut === 'Lu' ? 'Non lu' : 'Lu' } })}\n          />\n          <label className=\"form-check-label\" htmlFor=\"flexSwitchCheckDefault\" >\n            {data.Statut}\n          </label>\n\n        </div>\n      </div>\n\n      {/* Format */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Format\" className=\"form-label\">\n          Format\n        </label>\n        <div>\n\n          {lists.formats.map(item => (\n            <div className=\"form-check form-check-inline\" key={item}>\n              <input className=\"form-check-input\" type=\"radio\"\n                name=\"Format\"\n                id={'radio-' + item}\n                value={item}\n                checked={data.Format === item}\n                onChange={handleChange} />\n              <label className=\"form-check-label\" htmlFor={'radio-' + item}>\n                {item}\n              </label>\n            </div>\n          ))}\n        </div>\n      </div>\n\n\n      <div class=\"row mb-3\">\n      {/* Description */}\n      <div className=\"col-sm-6\">\n        <label htmlFor=\"Description\" className=\"form-label\">\n          Résumé\n        </label>\n        <textarea\n          name=\"Description\"\n          cols=\"30\"\n          rows=\"3\"\n          className=\"form-control\"\n          value={data.Description}\n          onChange={handleChange}\n        />\n      </div>\n\n       {/* Commentaire */}\n         <div className=\"col-sm-6\">\n        <label htmlFor=\"Commentaire\" className=\"form-label\">\n          Commentaire\n        </label>\n        <textarea\n          name=\"Commentaire\"\n          cols=\"30\"\n          rows=\"3\"\n          className=\"form-control\"\n          value={data.Commentaire || ''}\n          onChange={handleChange}\n        />\n      </div>\n      </div>\n\n\n      {/* Jacket */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"Jacket\" className=\"form-label\">\n          Jacket\n        </label>\n        <div>\n        <img src={data.Jacket} alt=\"-\"/>\n        </div>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          name=\"Jacket\"\n          value={data.Jacket}\n          onChange={handleChange}\n        />\n      </div>\n\n\n      {/* LentAt */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"LentAt\" className=\"form-label\">\n          Prêté à\n        </label>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          name=\"LentAt\"\n          value={data.LentAt || ''}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* LentOn */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"LentOn\" className=\"form-label\">\n          Prêté le\n        </label>\n        <input\n          type=\"date\"\n          className=\"form-control\"\n          name=\"LentOn\"\n          value={data.LentOn || ''}\n          onChange={handleChange}\n        />\n      </div>\n\n      {/* LentReturnOn */}\n      <div className=\"mb-3\">\n        <label htmlFor=\"LentReturnOn\" className=\"form-label\">\n          Rendu le\n        </label>\n        <input\n          type=\"date\"\n          className=\"form-control\"\n          name=\"LentReturnOn\"\n          value={data.LentReturnOn || ''}\n          onChange={handleChange}\n        />\n      </div>\n\n    </div >\n  )\n}\n\nexport default Fiche\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport api from '../api'\nimport Fiche from '../components/Fiche'\n\nconst Add = () => {\n  const history = useHistory();\n  const [data, setData] = useState(api.defaultState);\n  const [lists, setList] = useState(api.defaultList);\n\n  useEffect(() => {\n    const getList = async () => setList(await api.getLists())\n    getList();\n  }, []);\n\n  const handleChange = (e) =>\n    setData({ ...data, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await api.addBook(data)\n    history.replace(\"/\");\n  }\n\n  return (\n    <form style={{ margin: \"auto\" }} onSubmit={handleSubmit}>\n\n      <Fiche props={{data, lists, handleChange}} />\n\n      <div className=\"row\"><p>pied de page</p></div>\n\n      <div className=\"text-center fixed-bottom row\">\n        <button className=\"btn btn-primary col align-self-end\">Enregistrer</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Add;\n","import { useParams, Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport api from '../api'\nimport Fiche from '../components/Fiche'\n\nconst Edit = () => {\n  const { rowIndex } = useParams();\n  const [data, setData] = useState(api.defaultState);\n  const [lists, setList] = useState(api.defaultList);\n  const [bookCount, setBookCount] = useState(0);\n\n  useEffect(() => {\n    const getData = async () => {\n      setData(await api.getBook(rowIndex))\n    };\n    const getList = async (ame) => setList(await api.getLists())\n    const getBookCount = async () => setBookCount(await api.getBookCount())\n    getData();\n    getBookCount();\n    getList();\n  }, [rowIndex]);\n\n  const handleChange = (e) =>\n    setData({ ...data, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    //e.preventDefault();\n    try {\n\n      api.saveBook(rowIndex, data)\n\n      //history.replace(\"/\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div style={{ margin: \"auto\" }} >\n\n      <Fiche props={{ data: data, lists: lists, handleChange }} />\n\n      <div className=\"row\"><p>pied de page</p></div>\n\n      <div className=\"row fixed-bottom bg-light p-3\">\n        <div className=\"col\">\n          <Link \n            to={`/edit/${parseInt(rowIndex) - 1}`}\n            className={`btn btn-primary ${rowIndex === \"0\" ? \"disabled\" : \"\"}`}>\n            &lt;&lt;\n          </Link>\n        </div>\n\n        <div className=\"col text-center\">\n          <button className=\"float-center btn btn-primary\" onClick={handleSubmit}>Enregistrer</button>\n        </div>\n        \n        <div className=\"col\">\n          <Link \n            to={`/edit/${parseInt(rowIndex) + 1}`} \n            className={`float-end btn btn-primary ${parseInt(rowIndex)+1 === bookCount ? \"disabled\" : \"\"}`}>\n            &gt;&gt;\n          </Link>\n        </div>\n      </div>\n\n\n    </div>\n  );\n};\n\nexport default Edit;\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Add from \"./pages/Add\";\nimport Edit from \"./pages/Edit\";\n\nfunction App() {\n  return (\n    <BrowserRouter basename=\"/MaLibrairie\">\n      <Navbar />\n      <div className=\"container-fluid\">\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/add\" component={Add} />\n          <Route exact path=\"/edit/:rowIndex\" component={Edit} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}